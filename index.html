<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 98 - –ü–æ–ª–Ω–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=MS+Sans+Serif:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        input, textarea, .selectable {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        body {
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            background: #000;
            color: #000;
            overflow: hidden;
            cursor: default;
        }

        /* –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #008080;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10001;
        }

        .login-screen.hidden {
            display: none;
        }

        .login-window {
            width: 400px;
            height: 300px;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
        }

        .login-titlebar {
            height: 22px;
            background: linear-gradient(to right, #0054e3, #1084d0);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 6px;
            font-weight: bold;
            font-size: 11px;
        }

        .login-content {
            padding: 30px;
            text-align: center;
        }

        .login-icon {
            width: 64px;
            height: 64px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><circle cx="32" cy="20" r="12" fill="%23333"/><path d="M32 36c-12 0-22 8-22 18h44c0-10-10-18-22-18z" fill="%23333"/></svg>');
            background-size: contain;
            margin: 0 auto 20px;
        }

        .login-user {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .login-password {
            width: 200px;
            height: 22px;
            padding: 2px 6px;
            border: 1px inset #c0c0c0;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            margin-bottom: 20px;
        }

        .login-button {
            width: 75px;
            height: 23px;
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 1px outset #c0c0c0;
            cursor: pointer;
            font-size: 11px;
            margin: 0 5px;
        }

        .login-button:hover {
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        .login-button:active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #b0b0b0, #909090);
        }

        .login-error {
            color: #ff0000;
            font-size: 10px;
            margin-top: 10px;
        }

        /* BIOS –∏ –∑–∞–≥—Ä—É–∑–∫–∞ */
        .bios-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            z-index: 10002;
            padding: 20px;
            animation: biosSequence 4s forwards;
        }

        @keyframes biosSequence {
            0% { opacity: 1; }
            85% { opacity: 1; }
            100% { opacity: 0; pointer-events: none; }
        }

        .boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000080;
            color: #fff;
            font-family: 'MS Sans Serif', sans-serif;
            z-index: 10001;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: bootScreen 6s forwards;
        }

        @keyframes bootScreen {
            0% { opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; pointer-events: none; }
        }

        .windows-logo {
            width: 400px;
            height: 200px;
            background: linear-gradient(45deg, #ff0000, #ffff00, #00ff00, #0000ff);
            border: 3px solid #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            margin-bottom: 40px;
        }

        .boot-progress {
            width: 500px;
            height: 30px;
            background: #c0c0c0;
            border: 2px inset #c0c0c0;
            margin: 20px 0;
            overflow: hidden;
        }

        .boot-bar {
            height: 100%;
            background: linear-gradient(90deg, #0000ff, #00ffff);
            width: 0%;
            animation: bootProgress 4s ease-in-out forwards;
        }

        @keyframes bootProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª */
        .desktop {
            width: 100vw;
            height: 100vh;
            background: #008080;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100" height="100" fill="%23008080"/><pattern id="grid" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="%23006060" stroke-width="0.5" opacity="0.3"/></pattern><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
            position: relative;
            overflow: hidden;
            display: none;
        }

        .desktop.show {
            display: block;
        }

        /* –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: linear-gradient(to bottom, #c0c0c0 0%, #a0a0a0 50%, #808080 100%);
            border-top: 1px solid #dfdfdf;
            display: flex;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.3);
        }

        .start-button {
            height: 26px;
            padding: 0 12px;
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 1px outset #c0c0c0;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            margin: 2px;
            font-size: 11px;
        }

        .start-button:hover {
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        .start-button:active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #a0a0a0, #808080);
        }

        .start-button::before {
            content: "‚äû";
            font-size: 14px;
            color: #000080;
            font-weight: bold;
        }

        .quick-launch {
            display: flex;
            align-items: center;
            gap: 2px;
            margin: 0 4px;
            padding: 2px 4px;
            border-right: 1px solid #808080;
        }

        .quick-launch-icon {
            width: 20px;
            height: 20px;
            background: #c0c0c0;
            border: 1px solid transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .quick-launch-icon:hover {
            border: 1px outset #c0c0c0;
            background: #d0d0d0;
        }

        .quick-launch-icon:active {
            border: 1px inset #c0c0c0;
        }

        .task-list {
            flex: 1;
            height: 100%;
            display: flex;
            align-items: center;
            padding: 0 4px;
            gap: 2px;
        }

        .task-item {
            height: 24px;
            padding: 0 8px;
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 1px outset #c0c0c0;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 10px;
            min-width: 120px;
            max-width: 160px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .task-item.active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #a0a0a0, #808080);
        }

        .system-tray {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 0 8px;
            border-left: 1px solid #808080;
        }

        .tray-icon {
            width: 16px;
            height: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .clock {
            font-size: 10px;
            padding: 2px 4px;
            border: 1px inset #c0c0c0;
            background: #c0c0c0;
            min-width: 50px;
            text-align: center;
        }

        /* –ò–∫–æ–Ω–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ */
        .desktop-icons {
            position: absolute;
            top: 10px;
            left: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fit, 75px);
            gap: 15px;
            width: 400px;
        }

        .desktop-icon {
            width: 70px;
            height: 70px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 4px;
            border-radius: 2px;
            transition: background 0.2s;
        }

        .desktop-icon:hover {
            background: rgba(255,255,255,0.2);
        }

        .desktop-icon.selected {
            background: #316ac5;
            color: white;
        }

        .icon-image {
            width: 32px;
            height: 32px;
            font-size: 24px;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-label {
            font-size: 10px;
            text-align: center;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            word-wrap: break-word;
            line-height: 1.2;
        }

        /* –û–∫–Ω–∞ */
        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            min-width: 300px;
            min-height: 200px;
            display: none;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
            z-index: 100;
            resize: both;
            overflow: hidden;
        }

        .window.active {
            z-index: 200;
        }

        .window-titlebar {
            height: 22px;
            background: linear-gradient(to right, #0054e3, #1084d0);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 6px;
            cursor: move;
            font-weight: bold;
            font-size: 11px;
        }

        .window.inactive .window-titlebar {
            background: linear-gradient(to right, #808080, #a0a0a0);
        }

        .window-icon {
            width: 16px;
            height: 16px;
            margin-right: 4px;
            font-size: 12px;
        }

        .window-title {
            flex: 1;
            padding-left: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .window-controls {
            display: flex;
            gap: 2px;
        }

        .window-control {
            width: 16px;
            height: 14px;
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 8px;
            font-weight: bold;
        }

        .window-control:hover {
            background: #d0d0d0;
        }

        .window-control:active {
            border: 1px inset #c0c0c0;
            background: #a0a0a0;
        }

        .window-menubar {
            height: 20px;
            background: #c0c0c0;
            border-bottom: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 4px;
        }

        .menu-item {
            padding: 2px 8px;
            cursor: pointer;
            font-size: 10px;
            position: relative;
        }

        .menu-item:hover {
            background: #316ac5;
            color: white;
        }

        .window-content {
            flex: 1;
            overflow: auto;
            padding: 8px;
            background: #c0c0c0;
            display: flex;
            flex-direction: column;
        }

        .window-statusbar {
            height: 18px;
            background: #c0c0c0;
            border-top: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 4px;
            font-size: 10px;
        }

        .status-panel {
            border: 1px inset #c0c0c0;
            padding: 1px 4px;
            margin-right: 4px;
            min-width: 80px;
            text-align: center;
        }

        /* –ë—Ä–∞—É–∑–µ—Ä - –ò–°–ü–†–ê–í–õ–ï–ù */
        .browser {
            width: 900px;
            height: 650px;
        }

        .browser-toolbar {
            height: 30px;
            background: #c0c0c0;
            border-bottom: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 4px;
            gap: 4px;
        }

        .toolbar-button {
            width: 24px;
            height: 24px;
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .toolbar-button:hover {
            background: #d0d0d0;
        }

        .toolbar-button:active {
            border: 1px inset #c0c0c0;
            background: #a0a0a0;
        }

        .browser-addressbar {
            height: 26px;
            background: #c0c0c0;
            border-bottom: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 4px;
            gap: 4px;
        }

        .address-input {
            flex: 1;
            height: 20px;
            padding: 2px 4px;
            border: 1px inset #c0c0c0;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 10px;
            background: white;
        }

        .browser-frame {
            width: 100%;
            height: 100%;
            border: 1px inset #c0c0c0;
            background: white;
            overflow: hidden;
        }

        .browser-iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        .browser-content {
            padding: 10px;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 12px;
            line-height: 1.4;
            height: 100%;
            overflow-y: auto;
        }

        .webpage h1 {
            color: #000080;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .webpage h2 {
            color: #800000;
            font-size: 14px;
            margin: 10px 0 5px 0;
        }

        .webpage p {
            margin-bottom: 10px;
        }

        .webpage a {
            color: #0000ff;
            text-decoration: underline;
            cursor: pointer;
        }

        .webpage a:visited {
            color: #800080;
        }

        .webpage a:hover {
            background: #ffff00;
        }

        /* –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π */
        .app-store {
            width: 800px;
            height: 600px;
        }

        .store-toolbar {
            height: 30px;
            background: #c0c0c0;
            border-bottom: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 8px;
            gap: 8px;
        }

        .store-search {
            flex: 1;
            height: 20px;
            padding: 2px 4px;
            border: 1px inset #c0c0c0;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 10px;
        }

        .store-content {
            display: flex;
            height: calc(100% - 30px);
        }

        .store-categories {
            width: 150px;
            background: #c0c0c0;
            border-right: 1px solid #808080;
            overflow-y: auto;
        }

        .store-category {
            padding: 6px 8px;
            cursor: pointer;
            font-size: 10px;
            border-bottom: 1px solid #a0a0a0;
        }

        .store-category:hover {
            background: #d0d0d0;
        }

        .store-category.active {
            background: #316ac5;
            color: white;
        }

        .store-apps {
            flex: 1;
            background: white;
            overflow-y: auto;
            padding: 8px;
        }

        .app-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border: 1px solid #e0e0e0;
            margin-bottom: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .app-item:hover {
            background: #f0f0f0;
        }

        .app-icon {
            width: 48px;
            height: 48px;
            margin-right: 12px;
            font-size: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #c0c0c0;
            background: #f8f8f8;
        }

        .app-info {
            flex: 1;
        }

        .app-name {
            font-weight: bold;
            font-size: 12px;
            margin-bottom: 2px;
        }

        .app-developer {
            color: #666;
            font-size: 10px;
            margin-bottom: 2px;
        }

        .app-description {
            font-size: 10px;
            color: #333;
            line-height: 1.3;
        }

        .app-actions {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .app-button {
            padding: 4px 12px;
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 1px outset #c0c0c0;
            cursor: pointer;
            font-size: 10px;
            text-align: center;
            min-width: 80px;
        }

        .app-button:hover {
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        .app-button:active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #b0b0b0, #909090);
        }

        .app-button.installed {
            background: linear-gradient(to bottom, #80ff80, #60ff60);
        }

        .app-rating {
            font-size: 10px;
            color: #666;
            margin-top: 2px;
        }

        /* –ò–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .game-canvas {
            border: 1px inset #c0c0c0;
            background: #000;
            display: block;
            margin: 0 auto;
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 10px 0;
        }

        .game-score {
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            font-weight: bold;
            margin: 10px 0;
        }

        /* –ú–µ–¥–∏–∞ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .media-display {
            background: #000;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            text-align: center;
            padding: 20px;
            border: 1px inset #c0c0c0;
            margin: 10px 0;
        }

        .media-controls {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin: 10px 0;
        }

        .media-button {
            width: 32px;
            height: 28px;
            background: linear-gradient(to bottom, #e0e0e0, #c0c0c0);
            border: 1px outset #c0c0c0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .media-button:hover {
            background: linear-gradient(to bottom, #f0f0f0, #d0d0d0);
        }

        .media-button:active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        /* –ú–µ–Ω—é –ü—É—Å–∫ */
        .start-menu {
            position: absolute;
            bottom: 30px;
            left: 0;
            width: 250px;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            display: none;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
            z-index: 1001;
        }

        .start-menu.show {
            display: block;
        }

        .start-menu-header {
            height: 50px;
            background: linear-gradient(to right, #000080, #0080ff);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 10px;
            font-weight: bold;
            font-size: 16px;
        }

        .start-menu-items {
            max-height: 400px;
            overflow-y: auto;
        }

        .start-menu-item {
            padding: 6px 10px;
            cursor: pointer;
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .start-menu-item:hover {
            background: #316ac5;
            color: white;
        }

        .start-menu-separator {
            height: 1px;
            background: #808080;
            margin: 2px 0;
        }

        .start-menu-icon {
            width: 16px;
            height: 16px;
            font-size: 12px;
        }

        /* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä */
        .calculator {
            width: 280px;
            height: 350px;
        }

        .calc-display {
            height: 40px;
            background: #000;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            text-align: right;
            padding: 0 8px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            margin: 8px;
            border: 2px inset #c0c0c0;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
            padding: 8px;
        }

        .calc-button {
            height: 35px;
            background: linear-gradient(to bottom, #e0e0e0, #c0c0c0);
            border: 1px outset #c0c0c0;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calc-button:hover {
            background: linear-gradient(to bottom, #f0f0f0, #d0d0d0);
        }

        .calc-button:active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        .calc-button.operator {
            background: linear-gradient(to bottom, #ff8080, #ff6060);
            color: white;
        }

        .calc-button.equals {
            background: linear-gradient(to bottom, #80ff80, #60ff60);
        }

        /* –î–∏–∞–ª–æ–≥–æ–≤—ã–µ –æ–∫–Ω–∞ */
        .dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
            z-index: 1003;
            display: none;
            min-width: 300px;
        }

        .dialog.show {
            display: block;
        }

        .dialog-titlebar {
            height: 20px;
            background: linear-gradient(to right, #0054e3, #1084d0);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 6px;
            font-weight: bold;
            font-size: 11px;
        }

        .dialog-content {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .dialog-icon {
            width: 32px;
            height: 32px;
            font-size: 28px;
        }

        .dialog-text {
            flex: 1;
            font-size: 11px;
            line-height: 1.4;
        }

        .dialog-buttons {
            padding: 10px 20px;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            border-top: 1px solid #808080;
        }

        .dialog-button {
            padding: 6px 16px;
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 1px outset #c0c0c0;
            cursor: pointer;
            font-size: 11px;
            min-width: 75px;
        }

        .dialog-button:hover {
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        .dialog-button:active {
            border: 1px inset #c0c0c0;
            background: linear-gradient(to bottom, #b0b0b0, #909090);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            bottom: 40px;
            right: 10px;
            background: #ffffcc;
            border: 2px outset #c0c0c0;
            padding: 8px;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 1004;
            display: none;
            font-size: 10px;
            max-width: 250px;
        }

        .notification.show {
            display: block;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes windowAppear {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .window.opening {
            animation: windowAppear 0.2s ease-out;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .window {
                width: 95vw !important;
                height: 80vh !important;
                top: 10px !important;
                left: 2.5vw !important;
            }
            
            .start-menu {
                width: 200px;
            }
            
            .desktop-icons {
                grid-template-columns: repeat(4, 1fr);
                width: 280px;
            }
        }
    </style>
</head>
<body>
    <!-- BIOS —ç–∫—Ä–∞–Ω -->
    <div class="bios-screen" id="biosScreen">
        <div style="color: #ffffff; font-weight: bold; margin-bottom: 20px;">Award Modular BIOS v4.51PG</div>
        <div>Detecting Primary Master ... IDE Hard Drive</div>
        <div>Detecting Primary Slave ... Not Detected</div>
        <div>Detecting Secondary Master ... ATAPI CD-ROM</div>
        <div>Detecting Secondary Slave ... Not Detected</div>
        <div>Memory Test : 65536K OK</div>
        <div>Primary Master : ST3160023A</div>
        <div>Starting Windows 98...</div>
        <div style="animation: blink 1s infinite;">_</div>
    </div>

    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div class="boot-screen" id="bootScreen">
        <div class="windows-logo">Microsoft Windows 98</div>
        <div style="color: #fff; font-size: 16px; margin-bottom: 20px;">Starting Windows...</div>
        <div class="boot-progress">
            <div class="boot-bar"></div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
    <div class="login-screen" id="loginScreen">
        <div class="login-window">
            <div class="login-titlebar">
                <span>–í—Ö–æ–¥ –≤ Windows</span>
            </div>
            <div class="login-content">
                <div class="login-icon"></div>
                <div class="login-user">Andrey</div>
                <div>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</div>
                <input type="password" class="login-password" id="passwordInput" placeholder="–ü–∞—Ä–æ–ª—å">
                <div>
                    <button class="login-button" onclick="login()">OK</button>
                    <button class="login-button" onclick="cancelLogin()">–û—Ç–º–µ–Ω–∞</button>
                </div>
                <div class="login-error" id="loginError"></div>
            </div>
        </div>
    </div>

    <!-- –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª -->
    <div class="desktop" id="desktop">
        <!-- –ò–∫–æ–Ω–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ -->
        <div class="desktop-icons">
            <div class="desktop-icon" data-app="browser">
                <div class="icon-image">üåê</div>
                <div class="icon-label">Internet Explorer</div>
            </div>
            <div class="desktop-icon" data-app="filemanager">
                <div class="icon-image">üìÅ</div>
                <div class="icon-label">–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</div>
            </div>
            <div class="desktop-icon" data-app="calculator">
                <div class="icon-image">üî¢</div>
                <div class="icon-label">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
            </div>
            <div class="desktop-icon" data-app="notepad">
                <div class="icon-image">üìù</div>
                <div class="icon-label">–ë–ª–æ–∫–Ω–æ—Ç</div>
            </div>
            <div class="desktop-icon" data-app="paint">
                <div class="icon-image">üé®</div>
                <div class="icon-label">Paint</div>
            </div>
            <div class="desktop-icon" data-app="appstore">
                <div class="icon-image">üè™</div>
                <div class="icon-label">–ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</div>
            </div>
            <div class="desktop-icon" data-app="minesweeper">
                <div class="icon-image">üí£</div>
                <div class="icon-label">–°–∞–ø–µ—Ä</div>
            </div>
            <div class="desktop-icon" data-app="solitaire">
                <div class="icon-image">üÉè</div>
                <div class="icon-label">–ü–∞—Å—å—è–Ω—Å</div>
            </div>
            <div class="desktop-icon" data-app="mediaplayer">
                <div class="icon-image">üéµ</div>
                <div class="icon-label">–ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å</div>
            </div>
            <div class="desktop-icon" data-app="terminal">
                <div class="icon-image">üíª</div>
                <div class="icon-label">–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞</div>
            </div>
        </div>

        <!-- –û–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ - –ò–°–ü–†–ê–í–õ–ï–ù–û -->
        <div class="window browser" id="browserWindow">
            <div class="window-titlebar">
                <div class="window-icon">üåê</div>
                <div class="window-title">Microsoft Internet Explorer</div>
                <div class="window-controls">
                    <div class="window-control" data-action="minimize">_</div>
                    <div class="window-control" data-action="maximize">‚ñ°</div>
                    <div class="window-control" data-action="close">√ó</div>
                </div>
            </div>
            <div class="window-menubar">
                <div class="menu-item">–§–∞–π–ª</div>
                <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                <div class="menu-item">–í–∏–¥</div>
                <div class="menu-item">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
                <div class="menu-item">–°–µ—Ä–≤–∏—Å</div>
                <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
            </div>
            <div class="browser-toolbar">
                <div class="toolbar-button" onclick="browserAction('back')" title="–ù–∞–∑–∞–¥">‚¨ÖÔ∏è</div>
                <div class="toolbar-button" onclick="browserAction('forward')" title="–í–ø–µ—Ä–µ–¥">‚û°Ô∏è</div>
                <div class="toolbar-button" onclick="browserAction('stop')" title="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å">‚èπÔ∏è</div>
                <div class="toolbar-button" onclick="browserAction('refresh')" title="–û–±–Ω–æ–≤–∏—Ç—å">üîÑ</div>
                <div class="toolbar-button" onclick="browserAction('home')" title="–î–æ–º–æ–π">üè†</div>
                <div class="toolbar-button" onclick="browserAction('search')" title="–ü–æ–∏—Å–∫">üîç</div>
                <div class="toolbar-button" onclick="browserAction('favorites')" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">‚≠ê</div>
            </div>
            <div class="browser-addressbar">
                <span style="font-size: 10px; margin-right: 4px;">–ê–¥—Ä–µ—Å:</span>
                <input type="text" class="address-input" id="addressInput" value="https://www.google.com" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å">
                <div class="toolbar-button" onclick="navigateToUrl()">‚ñ∂Ô∏è</div>
            </div>
            <div class="window-content" style="padding: 0;">
                <div class="browser-frame" id="browserFrame">
                    <div class="browser-content">
                        <h1>üåê –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Internet Explorer</h1>
                        <p>–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è Windows 98! –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –≤–µ–±-—Å–∞–π—Ç—ã –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ.</p>
                        
                        <h2>üîó –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:</h2>
                        <p>
                            <a href="#" onclick="navigateTo('https://www.google.com')">Google</a> |
                            <a href="#" onclick="navigateTo('https://www.youtube.com')">YouTube</a> |
                            <a href="#" onclick="navigateTo('https://www.wikipedia.org')">Wikipedia</a> |
                            <a href="#" onclick="navigateTo('https://www.github.com')">GitHub</a>
                        </p>
                        
                        <h2>üéØ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–∞–π—Ç—ã:</h2>
                        <ul>
                            <li><a href="#" onclick="navigateTo('https://www.stackoverflow.com')">Stack Overflow</a></li>
                            <li><a href="#" onclick="navigateTo('https://www.reddit.com')">Reddit</a></li>
                            <li><a href="#" onclick="navigateTo('https://www.twitter.com')">Twitter</a></li>
                            <li><a href="#" onclick="navigateTo('https://www.facebook.com')">Facebook</a></li>
                            <li><a href="#" onclick="navigateTo('https://www.instagram.com')">Instagram</a></li>
                            <li><a href="#" onclick="navigateTo('https://www.microsoft.com')">Microsoft</a></li>
                        </ul>
                        
                        <p><strong>–í–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π URL –≤ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤—ã—à–µ! –°–∞–π—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ.</strong></p>
                    </div>
                </div>
            </div>
            <div class="window-statusbar">
                <div class="status-panel" id="browserStatus">–ì–æ—Ç–æ–≤</div>
                <div class="status-panel">–ó–æ–Ω–∞: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç</div>
                <div class="status-panel">SSL: –ë–µ–∑–æ–ø–∞—Å–Ω–æ</div>
            </div>
        </div>

        <!-- –û–∫–Ω–æ –º–∞–≥–∞–∑–∏–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π - –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ü–†–û–†–ê–ë–û–¢–ê–ù–û -->
        <div class="window app-store" id="appstoreWindow">
            <div class="window-titlebar">
                <div class="window-icon">üè™</div>
                <div class="window-title">–ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Windows 98</div>
                <div class="window-controls">
                    <div class="window-control" data-action="minimize">_</div>
                    <div class="window-control" data-action="maximize">‚ñ°</div>
                    <div class="window-control" data-action="close">√ó</div>
                </div>
            </div>
            <div class="window-menubar">
                <div class="menu-item">–§–∞–π–ª</div>
                <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                <div class="menu-item">–í–∏–¥</div>
                <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
            </div>
            <div class="store-toolbar">
                <input type="text" class="store-search" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π..." onkeyup="searchApps(this.value)">
                <div class="toolbar-button" onclick="refreshStore()" title="–û–±–Ω–æ–≤–∏—Ç—å">üîÑ</div>
            </div>
            <div class="store-content">
                <div class="store-categories">
                    <div class="store-category active" data-category="all" onclick="filterApps('all')">–í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
                    <div class="store-category" data-category="games" onclick="filterApps('games')">–ò–≥—Ä—ã</div>
                    <div class="store-category" data-category="productivity" onclick="filterApps('productivity')">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                    <div class="store-category" data-category="multimedia" onclick="filterApps('multimedia')">–ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞</div>
                    <div class="store-category" data-category="internet" onclick="filterApps('internet')">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç</div>
                    <div class="store-category" data-category="utilities" onclick="filterApps('utilities')">–£—Ç–∏–ª–∏—Ç—ã</div>
                    <div class="store-category" data-category="development" onclick="filterApps('development')">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div>
                </div>
                <div class="store-apps" id="storeApps">
                    <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </div>

        <!-- –û–∫–Ω–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ -->
        <div class="window calculator" id="calculatorWindow">
            <div class="window-titlebar">
                <div class="window-icon">üî¢</div>
                <div class="window-title">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
                <div class="window-controls">
                    <div class="window-control" data-action="minimize">_</div>
                    <div class="window-control" data-action="close">√ó</div>
                </div>
            </div>
            <div class="window-menubar">
                <div class="menu-item">–í–∏–¥</div>
                <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
            </div>
            <div class="window-content" style="padding: 0;">
                <div class="calc-display" id="calcDisplay">0</div>
                <div class="calc-buttons">
                    <div class="calc-button" onclick="calcAction('clear')">C</div>
                    <div class="calc-button" onclick="calcAction('ce')">CE</div>
                    <div class="calc-button" onclick="calcAction('backspace')">‚Üê</div>
                    <div class="calc-button operator" onclick="calcAction('/')" >√∑</div>
                    
                    <div class="calc-button" onclick="calcAction('7')">7</div>
                    <div class="calc-button" onclick="calcAction('8')">8</div>
                    <div class="calc-button" onclick="calcAction('9')">9</div>
                    <div class="calc-button operator" onclick="calcAction('*')">√ó</div>
                    
                    <div class="calc-button" onclick="calcAction('4')">4</div>
                    <div class="calc-button" onclick="calcAction('5')">5</div>
                    <div class="calc-button" onclick="calcAction('6')">6</div>
                    <div class="calc-button operator" onclick="calcAction('-')">-</div>
                    
                    <div class="calc-button" onclick="calcAction('1')">1</div>
                    <div class="calc-button" onclick="calcAction('2')">2</div>
                    <div class="calc-button" onclick="calcAction('3')">3</div>
                    <div class="calc-button operator" onclick="calcAction('+')">+</div>
                    
                    <div class="calc-button" onclick="calcAction('0')" style="grid-column: span 2;">0</div>
                    <div class="calc-button" onclick="calcAction('.')">.</div>
                    <div class="calc-button equals" onclick="calcAction('=')">=</div>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á -->
        <div class="taskbar">
            <div class="start-button" onclick="toggleStartMenu()">
                –ü—É—Å–∫
            </div>
            <div class="quick-launch">
                <div class="quick-launch-icon" onclick="openApp('browser')" title="Internet Explorer">üåê</div>
                <div class="quick-launch-icon" onclick="openApp('filemanager')" title="–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä">üìÅ</div>
                <div class="quick-launch-icon" onclick="openApp('notepad')" title="–ë–ª–æ–∫–Ω–æ—Ç">üìù</div>
                <div class="quick-launch-icon" onclick="showDesktop()" title="–ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª">üñ•Ô∏è</div>
            </div>
            <div class="task-list" id="taskList">
                <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="system-tray">
                <div class="tray-icon" onclick="showVolumeControl()">üîä</div>
                <div class="tray-icon" onclick="showNetworkStatus()">üì∂</div>
                <div class="tray-icon" onclick="showAntivirus()">üõ°Ô∏è</div>
                <div class="clock" id="clock">00:00</div>
            </div>
        </div>

        <!-- –ú–µ–Ω—é –ü—É—Å–∫ -->
        <div class="start-menu" id="startMenu">
            <div class="start-menu-header">
                Windows 98
            </div>
            <div class="start-menu-items">
                <div class="start-menu-item" onclick="openApp('browser')">
                    <div class="start-menu-icon">üåê</div>
                    <span>Internet Explorer</span>
                </div>
                <div class="start-menu-item" onclick="openApp('filemanager')">
                    <div class="start-menu-icon">üìÅ</div>
                    <span>–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</span>
                </div>
                <div class="start-menu-separator"></div>
                <div class="start-menu-item" onclick="openApp('notepad')">
                    <div class="start-menu-icon">üìù</div>
                    <span>–ë–ª–æ–∫–Ω–æ—Ç</span>
                </div>
                <div class="start-menu-item" onclick="openApp('calculator')">
                    <div class="start-menu-icon">üî¢</div>
                    <span>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span>
                </div>
                <div class="start-menu-item" onclick="openApp('paint')">
                    <div class="start-menu-icon">üé®</div>
                    <span>Paint</span>
                </div>
                <div class="start-menu-item" onclick="openApp('appstore')">
                    <div class="start-menu-icon">üè™</div>
                    <span>–ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</span>
                </div>
                <div class="start-menu-separator"></div>
                <div class="start-menu-item" onclick="openApp('minesweeper')">
                    <div class="start-menu-icon">üí£</div>
                    <span>–°–∞–ø–µ—Ä</span>
                </div>
                <div class="start-menu-item" onclick="openApp('solitaire')">
                    <div class="start-menu-icon">üÉè</div>
                    <span>–ü–∞—Å—å—è–Ω—Å</span>
                </div>
                <div class="start-menu-separator"></div>
                <div class="start-menu-item" onclick="showRunDialog()">
                    <div class="start-menu-icon">‚ñ∂Ô∏è</div>
                    <span>–í—ã–ø–æ–ª–Ω–∏—Ç—å...</span>
                </div>
                <div class="start-menu-item" onclick="showShutdown()">
                    <div class="start-menu-icon">‚ö°</div>
                    <span>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...</span>
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="notification" id="notification">
            <div id="notificationText">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let openWindows = new Set();
        let activeWindow = null;
        let zIndexCounter = 100;
        let isLoggedIn = false;
        let calcExpression = '';
        let calcDisplay = '0';
        let installedApps = new Set();

        // –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ü–†–û–†–ê–ë–û–¢–ê–ù–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• –ü–†–ò–õ–û–ñ–ï–ù–ò–ô
        const appDatabase = [
            // –ò–ì–†–´
            {
                id: 'doom',
                name: 'DOOM',
                developer: 'id Software',
                description: '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —à—É—Ç–µ—Ä –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞ —Å –∞–¥—Å–∫–∏–º–∏ –¥–µ–º–æ–Ω–∞–º–∏',
                icon: 'üëπ',
                category: 'games',
                rating: 4.9,
                size: '15.2 MB',
                features: ['–û–¥–∏–Ω–æ—á–Ω–∞—è –∏–≥—Ä–∞', '–°–µ—Ç–µ–≤–∞—è –∏–≥—Ä–∞', '3D –≥—Ä–∞—Ñ–∏–∫–∞', '–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã'],
                gameplay: {
                    enemies: ['Imp', 'Demon', 'Cacodemon', 'Cyberdemon'],
                    weapons: ['Pistol', 'Shotgun', 'Chaingun', 'Rocket Launcher', 'BFG'],
                    levels: 27,
                    difficulty: ['I am too young to die', 'Hey, not too rough', 'Hurt me plenty', 'Ultra-Violence', 'Nightmare']
                }
            },
            {
                id: 'quake',
                name: 'Quake',
                developer: 'id Software',
                description: '–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π 3D —à—É—Ç–µ—Ä —Å –ø–æ–ª–∏–≥–æ–Ω–∞–ª—å–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–æ–π',
                icon: 'üå™Ô∏è',
                category: 'games',
                rating: 4.8,
                size: '76.3 MB',
                features: ['–ü–æ–ª–Ω–∞—è 3D –≥—Ä–∞—Ñ–∏–∫–∞', '–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä', '–ú–æ–¥–¥–∏–Ω–≥', '–§–∏–∑–∏–∫–∞'],
                gameplay: {
                    enemies: ['Grunt', 'Enforcer', 'Ogre', 'Shambler'],
                    weapons: ['Axe', 'Shotgun', 'Super Shotgun', 'Nailgun', 'Lightning Gun'],
                    episodes: 4,
                    boss: 'Shub-Niggurath'
                }
            },
            {
                id: 'solitaire',
                name: 'Microsoft Solitaire',
                developer: 'Microsoft',
                description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–æ—á–Ω–∞—è –∏–≥—Ä–∞ –ø–∞—Å—å—è–Ω—Å',
                icon: 'üÉè',
                category: 'games',
                rating: 4.3,
                size: '0.8 MB',
                features: ['–ö–ª–æ–Ω–¥–∞–π–∫', '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', '–†–µ–∫–æ—Ä–¥—ã', '–†–∞–∑–Ω—ã–µ –∫–æ–ª–æ–¥—ã'],
                gameplay: {
                    modes: ['–ö–ª–æ–Ω–¥–∞–π–∫', 'Freecell', 'Spider'],
                    scoring: 'Vegas/Standard',
                    cards: 52,
                    difficulty: 'Easy/Hard'
                }
            },
            {
                id: 'age_of_empires',
                name: 'Age of Empires',
                developer: 'Ensemble Studios',
                description: '–≠–ø–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                icon: 'üè∞',
                category: 'games',
                rating: 4.7,
                size: '120 MB',
                features: ['12 —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–π', '–ö–∞–º–ø–∞–Ω–∏—è', '–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä', '–†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç'],
                gameplay: {
                    civilizations: ['–ï–≥–∏–ø–µ—Ç', '–í–∞–≤–∏–ª–æ–Ω', '–ì—Ä–µ—Ü–∏—è', '–†–∏–º'],
                    ages: ['–ö–∞–º–µ–Ω–Ω—ã–π –≤–µ–∫', '–ë—Ä–æ–Ω–∑–æ–≤—ã–π –≤–µ–∫', '–ñ–µ–ª–µ–∑–Ω—ã–π –≤–µ–∫'],
                    units: ['–í–æ–∏–Ω—ã', '–õ—É—á–Ω–∏–∫–∏', '–ö–∞–≤–∞–ª–µ—Ä–∏—è', '–û—Å–∞–¥–Ω—ã–µ –æ—Ä—É–¥–∏—è'],
                    resources: ['–ü–∏—â–∞', '–î–µ—Ä–µ–≤–æ', '–ó–æ–ª–æ—Ç–æ', '–ö–∞–º–µ–Ω—å']
                }
            },
            {
                id: 'civilization2',
                name: 'Civilization II',
                developer: 'MicroProse',
                description: '–ü–æ—Å—Ç—Ä–æ–π –≤–µ–ª–∏—á–∞–π—à—É—é —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—é –≤ –∏—Å—Ç–æ—Ä–∏–∏',
                icon: 'üèõÔ∏è',
                category: 'games',
                rating: 4.9,
                size: '45.7 MB',
                features: ['21 —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è', '–î–∏–ø–ª–æ–º–∞—Ç–∏—è', '–¢–æ—Ä–≥–æ–≤–ª—è', '–ù–∞—É–∫–∞'],
                gameplay: {
                    victory: ['–ó–∞–≤–æ–µ–≤–∞–Ω–∏–µ', '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å', '–î–∏–ø–ª–æ–º–∞—Ç–∏—è'],
                    techs: 89,
                    units: 62,
                    wonders: 28
                }
            },

            // –ú–£–õ–¨–¢–ò–ú–ï–î–ò–ê
            {
                id: 'winamp',
                name: 'Winamp',
                developer: 'Nullsoft',
                description: '–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π MP3 –ø–ª–µ–µ—Ä —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π',
                icon: 'üéµ',
                category: 'multimedia',
                rating: 4.8,
                size: '2.1 MB',
                features: ['MP3/WAV', '–ü–ª–µ–π–ª–∏—Å—Ç—ã', '–≠–∫–≤–∞–ª–∞–π–∑–µ—Ä', '–°–∫–∏–Ω—ã', '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è'],
                audio: {
                    formats: ['MP3', 'WAV', 'CD Audio', 'MIDI'],
                    equalizer: '10-band',
                    visualizations: ['Oscilloscope', 'Spectrum', 'Milkdrop'],
                    plugins: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤'
                }
            },
            {
                id: 'realplayer',
                name: 'RealPlayer',
                developer: 'RealNetworks',
                description: '–ü–æ—Ç–æ–∫–æ–≤–æ–µ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ',
                icon: 'üìπ',
                category: 'multimedia',
                rating: 4.2,
                size: '8.7 MB',
                features: ['–ü–æ—Ç–æ–∫–æ–≤–æ–µ –≤–∏–¥–µ–æ', '–†–∞–¥–∏–æ', '–ó–∞–∫–ª–∞–¥–∫–∏', '–ó–∞–ø–∏—Å—å'],
                streaming: {
                    formats: ['RealAudio', 'RealVideo', 'MP3', 'AVI'],
                    bitrates: ['28.8K', '56K', '128K', '256K'],
                    radio: '1000+ —Å—Ç–∞–Ω—Ü–∏–π',
                    record: '–ó–∞–ø–∏—Å—å –ø–æ—Ç–æ–∫–æ–≤'
                }
            },
            {
                id: 'mediaplayer',
                name: 'Windows Media Player',
                developer: 'Microsoft',
                description: '–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ–¥–∏–∞–ø–ª–µ–µ—Ä Windows',
                icon: 'üé¨',
                category: 'multimedia',
                rating: 4.1,
                size: '12.3 MB',
                features: ['–í–∏–¥–µ–æ', '–ê—É–¥–∏–æ', 'CD', 'DVD', '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ä–∞–¥–∏–æ'],
                playback: {
                    video: ['AVI', 'MPEG', 'WMV', 'ASF'],
                    audio: ['WAV', 'MP3', 'WMA', 'MIDI'],
                    cd: 'CD Audio',
                    visualizations: '–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏'
                }
            },

            // –ü–†–û–î–£–ö–¢–ò–í–ù–û–°–¢–¨
            {
                id: 'office97',
                name: 'Microsoft Office 97',
                developer: 'Microsoft',
                description: '–ü–æ–ª–Ω—ã–π –æ—Ñ–∏—Å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã',
                icon: 'üìÑ',
                category: 'productivity',
                rating: 4.5,
                size: '125 MB',
                features: ['Word', 'Excel', 'PowerPoint', 'Access', 'Outlook'],
                applications: {
                    word: '–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä',
                    excel: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã',
                    powerpoint: '–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏',
                    access: '–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö',
                    outlook: '–ü–æ—á—Ç–∞ –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å'
                }
            },
            {
                id: 'photoshop',
                name: 'Adobe Photoshop 5.5',
                developer: 'Adobe Systems',
                description: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä',
                icon: 'üñºÔ∏è',
                category: 'productivity',
                rating: 4.7,
                size: '45.8 MB',
                features: ['–°–ª–æ–∏', '–§–∏–ª—å—Ç—Ä—ã', '–ú–∞—Å–∫–∏', '–í–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã'],
                tools: {
                    selection: ['–õ–∞—Å—Å–æ', '–í–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞', '–ü–µ—Ä–æ'],
                    paint: ['–ö–∏—Å—Ç—å', '–ö–∞—Ä–∞–Ω–¥–∞—à', '–ê—ç—Ä–æ–≥—Ä–∞—Ñ', '–®—Ç–∞–º–ø'],
                    filters: ['–†–∞–∑–º—ã—Ç–∏–µ', '–†–µ–∑–∫–æ—Å—Ç—å', '–ò—Å–∫–∞–∂–µ–Ω–∏–µ', '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ'],
                    formats: ['PSD', 'JPEG', 'PNG', 'GIF', 'TIFF']
                }
            },
            {
                id: 'acrobat',
                name: 'Adobe Acrobat Reader',
                developer: 'Adobe Systems',
                description: '–ü—Ä–æ—Å–º–æ—Ç—Ä PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
                icon: 'üìï',
                category: 'productivity',
                rating: 4.3,
                size: '8.2 MB',
                features: ['PDF –ø—Ä–æ—Å–º–æ—Ç—Ä', '–ü–µ—á–∞—Ç—å', '–ü–æ–∏—Å–∫', '–ó–∞–∫–ª–∞–¥–∫–∏'],
                pdf: {
                    zoom: '25% - 800%',
                    navigation: '–ó–∞–∫–ª–∞–¥–∫–∏ –∏ –º–∏–Ω–∏–∞—Ç—é—Ä—ã',
                    search: '–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É',
                    print: '–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–µ—á–∞—Ç—å'
                }
            },

            // –ò–ù–¢–ï–†–ù–ï–¢
            {
                id: 'icq',
                name: 'ICQ',
                developer: 'Mirabilis',
                description: '–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —á–∞—Ç',
                icon: 'üí¨',
                category: 'internet',
                rating: 4.6,
                size: '3.2 MB',
                features: ['–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è', '–§–∞–π–ª–æ–æ–±–º–µ–Ω', '–ß–∞—Ç-–∫–æ–º–Ω–∞—Ç—ã'],
                communication: {
                    messages: '–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è',
                    files: '–ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤',
                    status: '–°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π',
                    history: '–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π'
                }
            },
            {
                id: 'netscape',
                name: 'Netscape Navigator',
                developer: 'Netscape',
                description: '–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä',
                icon: 'üåê',
                category: 'internet',
                rating: 4.4,
                size: '14.7 MB',
                features: ['HTML', 'JavaScript', 'Java', '–ü–ª–∞–≥–∏–Ω—ã'],
                web: {
                    html: 'HTML 4.0',
                    javascript: 'JavaScript 1.3',
                    java: 'Java Applets',
                    plugins: 'Netscape Plugins'
                }
            },
            {
                id: 'outlook',
                name: 'Microsoft Outlook Express',
                developer: 'Microsoft',
                description: '–ü–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –∏ –Ω–æ–≤–æ—Å—Ç–∏',
                icon: 'üìß',
                category: 'internet',
                rating: 4.2,
                size: '6.8 MB',
                features: ['Email', '–ù–æ–≤–æ—Å—Ç–∏', '–ê–¥—Ä–µ—Å–Ω–∞—è –∫–Ω–∏–≥–∞', '–ü–∞–ø–∫–∏'],
                email: {
                    accounts: '–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã',
                    folders: '–ü–∞–ø–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä—ã',
                    attachments: '–í–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤',
                    security: '–¶–∏—Ñ—Ä–æ–≤—ã–µ –ø–æ–¥–ø–∏—Å–∏'
                }
            },

            // –£–¢–ò–õ–ò–¢–´
            {
                id: 'winzip',
                name: 'WinZip',
                developer: 'WinZip Computing',
                description: '–ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ZIP',
                icon: 'üì¶',
                category: 'utilities',
                rating: 4.4,
                size: '1.8 MB',
                features: ['ZIP –∞—Ä—Ö–∏–≤—ã', '–°–∞–º–æ—Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—é—â–∏–µ—Å—è –∞—Ä—Ö–∏–≤—ã', '–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ'],
                compression: {
                    formats: ['ZIP', 'LZH', 'TAR', 'GZ'],
                    encryption: 'AES —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ',
                    ratio: '–í—ã—Å–æ–∫–∞—è —Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è',
                    wizard: '–ú–∞—Å—Ç–µ—Ä –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è'
                }
            },
            {
                id: 'norton',
                name: 'Norton AntiVirus',
                developer: 'Symantec',
                description: '–ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                icon: 'üõ°Ô∏è',
                category: 'utilities',
                rating: 4.5,
                size: '18.4 MB',
                features: ['–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ', '–ö–∞—Ä–∞–Ω—Ç–∏–Ω', '–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ', '–§–∞–µ—Ä–≤–æ–ª'],
                security: {
                    realtime: '–ó–∞—â–∏—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                    scan: '–ü–æ–ª–Ω–æ–µ –∏ –±—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
                    quarantine: '–ö–∞—Ä–∞–Ω—Ç–∏–Ω –≤–∏—Ä—É—Å–æ–≤',
                    updates: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è'
                }
            },
            {
                id: 'regclean',
                name: 'Registry Cleaner',
                developer: 'Microsoft',
                description: '–û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–µ—Å—Ç—Ä–∞ Windows',
                icon: 'üßπ',
                category: 'utilities',
                rating: 4.1,
                size: '2.3 MB',
                features: ['–û—á–∏—Å—Ç–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞', '–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ', '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è'],
                registry: {
                    scan: '–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫',
                    backup: '–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π',
                    repair: '–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫',
                    optimize: '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏'
                }
            },

            // –†–ê–ó–†–ê–ë–û–¢–ö–ê
            {
                id: 'visualstudio',
                name: 'Microsoft Visual Studio 6.0',
                developer: 'Microsoft',
                description: '–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏',
                icon: 'üíª',
                category: 'development',
                rating: 4.6,
                size: '180 MB',
                features: ['Visual C++', 'Visual Basic', '–û—Ç–ª–∞–¥—á–∏–∫', 'IntelliSense'],
                development: {
                    languages: ['C++', 'Visual Basic', 'J++', 'FoxPro'],
                    debugger: '–ú–æ—â–Ω—ã–π –æ—Ç–ª–∞–¥—á–∏–∫',
                    intellisense: '–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞',
                    compiler: '–û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä'
                }
            },
            {
                id: 'frontpage',
                name: 'Microsoft FrontPage',
                developer: 'Microsoft',
                description: '–í–µ–±-—Ä–µ–¥–∞–∫—Ç–æ—Ä WYSIWYG',
                icon: 'üåç',
                category: 'development',
                rating: 4.2,
                size: '65.4 MB',
                features: ['WYSIWYG', 'HTML —Ä–µ–¥–∞–∫—Ç–æ—Ä', '–®–∞–±–ª–æ–Ω—ã', 'FTP'],
                web_dev: {
                    wysiwyg: '–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä',
                    html: 'HTML/CSS —Ä–µ–¥–∞–∫—Ç–æ—Ä',
                    templates: '–ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã',
                    publish: '–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä'
                }
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            updateClock();
            setInterval(updateClock, 1000);
            
            // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                document.getElementById('biosScreen').style.display = 'none';
            }, 4000);
            
            setTimeout(() => {
                document.getElementById('bootScreen').style.display = 'none';
            }, 10000);
            
            setTimeout(() => {
                if (!isLoggedIn) {
                    document.getElementById('loginScreen').classList.remove('hidden');
                }
            }, 10500);
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–ª–µ –ø–∞—Ä–æ–ª—è
            document.getElementById('passwordInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    login();
                }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –º–∞–≥–∞–∑–∏–Ω
            loadStoreApps();
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–∫–æ–Ω
            createSystemWindows();
        });

        // –°–∏—Å—Ç–µ–º–∞ –≤—Ö–æ–¥–∞
        function login() {
            const password = document.getElementById('passwordInput').value;
            const errorElement = document.getElementById('loginError');
            
            if (password === 'Andrey2914') {
                isLoggedIn = true;
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('desktop').classList.add('show');
                showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Windows 98!');
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
                setTimeout(() => {
                    openApp('browser');
                }, 1000);
            } else {
                errorElement.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
            }
        }

        function cancelLogin() {
            document.getElementById('passwordInput').value = '';
            document.getElementById('loginError').textContent = '';
        }

        // –ß–∞—Å—ã
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('ru-RU', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            document.getElementById('clock').textContent = time;
        }

        // –ò–°–ü–†–ê–í–õ–ï–ù–û: –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
        function openApp(appName) {
            let windowElement = document.getElementById(appName + 'Window');
            
            // –ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Å–æ–∑–¥–∞–µ–º –µ–≥–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
            if (!windowElement && installedApps.has(appName)) {
                createAppWindow(appName);
                windowElement = document.getElementById(appName + 'Window');
            }
            
            if (!windowElement) {
                showNotification(`–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "${appName}" –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`);
                return;
            }
            
            if (openWindows.has(appName)) {
                windowElement.style.display = 'block';
                activateWindow(windowElement);
                return;
            }
            
            const offset = openWindows.size * 30;
            windowElement.style.display = 'block';
            windowElement.style.left = (100 + offset) + 'px';
            windowElement.style.top = (100 + offset) + 'px';
            windowElement.classList.add('opening');
            
            openWindows.add(appName);
            activateWindow(windowElement);
            updateTaskbar();
            
            document.getElementById('startMenu').classList.remove('show');
            
            setTimeout(() => {
                windowElement.classList.remove('opening');
            }, 200);
        }

        // –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ï –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò –°–û–ó–î–ê–í–ê–ï–ú–´–ï –û–ö–ù–ê
        function createAppWindow(appId) {
            const app = appDatabase.find(a => a.id === appId);
            if (!app) return;
            
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = appId + 'Window';
            windowElement.style.width = '600px';
            windowElement.style.height = '450px';
            
            let windowContent = '';
            
            switch(app.category) {
                case 'games':
                    windowContent = createGameWindow(app);
                    break;
                case 'multimedia':
                    windowContent = createMultimediaWindow(app);
                    break;
                case 'productivity':
                    windowContent = createProductivityWindow(app);
                    break;
                case 'internet':
                    windowContent = createInternetWindow(app);
                    break;
                case 'utilities':
                    windowContent = createUtilityWindow(app);
                    break;
                case 'development':
                    windowContent = createDevelopmentWindow(app);
                    break;
                default:
                    windowContent = createDefaultWindow(app);
            }
            
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">${app.icon}</div>
                    <div class="window-title">${app.name}</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    ${windowContent}
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">–ì–æ—Ç–æ–≤</div>
                    <div class="status-panel">${app.developer}</div>
                </div>
            `;
            
            document.getElementById('desktop').appendChild(windowElement);
        }

        function createGameWindow(app) {
            if (app.id === 'doom') {
                return `
                    <div style="display: flex; height: 100%;">
                        <div style="width: 200px; background: #000; color: #ff0000; padding: 10px; font-family: monospace;">
                            <h3>üî• DOOM ENGINE</h3>
                            <div style="margin: 10px 0;">
                                <div>HP: <span style="color: #00ff00;">100</span></div>
                                <div>ARMOR: <span style="color: #0080ff;">50</span></div>
                                <div>AMMO: <span style="color: #ffff00;">200</span></div>
                            </div>
                            <div style="margin: 10px 0;">
                                <h4>WEAPONS:</h4>
                                <div>üî´ Pistol</div>
                                <div>üí• Shotgun</div>
                                <div>üéØ Chaingun</div>
                                <div>üöÄ Rocket Launcher</div>
                            </div>
                            <div style="margin: 10px 0;">
                                <h4>ENEMIES:</h4>
                                <div>üëπ Imp x3</div>
                                <div>üòà Demon x2</div>
                                <div>üëÅÔ∏è Cacodemon x1</div>
                            </div>
                        </div>
                        <div style="flex: 1; background: #333; position: relative;">
                            <canvas class="game-canvas" width="350" height="280" style="background: linear-gradient(180deg, #654321 0%, #8b4513 50%, #2f4f2f 100%);"></canvas>
                                                        <div class="game-controls">
                                <div class="app-button" onclick="startDoomGame('${app.id}')">üéÆ –ò–ì–†–ê–¢–¨</div>
                                <div class="app-button" onclick="doomSettings('${app.id}')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                                <div class="app-button" onclick="doomSave('${app.id}')">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</div>
                                <div class="app-button" onclick="doomLoad('${app.id}')">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å</div>
                            </div>
                            <div style="position: absolute; bottom: 10px; left: 10px; color: #ff0000; font-family: monospace;">
                                <div>LEVEL: E1M1 - Hangar</div>
                                <div>DIFFICULTY: Ultra-Violence</div>
                                <div>KILLS: 15/23</div>
                                <div>SECRETS: 2/4</div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (app.id === 'quake') {
                return `
                    <div style="text-align: center; padding: 20px;">
                        <div style="background: #000; height: 250px; position: relative; border: 2px solid #666;">
                            <canvas class="game-canvas" width="400" height="240" style="background: linear-gradient(45deg, #8B4513 0%, #654321 50%, #2F4F2F 100%);"></canvas>
                            <div style="position: absolute; top: 10px; left: 10px; color: #00ff00; font-family: monospace; font-size: 12px;">
                                <div>QUAKE v1.06</div>
                                <div>FPS: 60</div>
                                <div>PING: 25ms</div>
                            </div>
                        </div>
                        <div class="game-controls">
                            <div class="app-button" onclick="quakeStart('${app.id}')">üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</div>
                            <div class="app-button" onclick="quakeMultiplayer('${app.id}')">üåê –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä</div>
                            <div class="app-button" onclick="quakeOptions('${app.id}')">‚öôÔ∏è –û–ø—Ü–∏–∏</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 11px;">
                            <strong>–≠–ø–∏–∑–æ–¥—ã:</strong> Dimension of the Doomed | The Realm of Black Magic | The Netherworld | The Elder World
                        </div>
                    </div>
                `;
            } else if (app.id === 'solitaire') {
                return `
                    <div style="background: #008000; padding: 15px; height: 100%;">
                        <div class="game-controls">
                            <div class="app-button" onclick="solitaireNew('${app.id}')">üÉè –ù–æ–≤–∞—è –∏–≥—Ä–∞</div>
                            <div class="app-button" onclick="solitaireUndo('${app.id}')">‚Ü∂ –û—Ç–º–µ–Ω–∏—Ç—å</div>
                            <div class="app-button" onclick="solitaireHint('${app.id}')">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
                            <div class="app-button" onclick="solitaireStats('${app.id}')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin: 20px 0;">
                            <div class="card" style="width: 60px; height: 80px; background: #000080; border: 1px solid white; border-radius: 4px; color: white; display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="drawCard()">üÇ†</div>
                            <div class="card" style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center; cursor: pointer;">üÉÅ</div>
                            <div class="card" style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center; cursor: pointer;">üÇ±</div>
                            <div class="card" style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center; cursor: pointer;">üÉë</div>
                        </div>
                        <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                            ${Array(7).fill().map((_, i) => `<div class="card-stack" style="width: 60px; height: 80px; background: ${i % 2 ? '#000080' : 'white'}; border: 1px solid ${i % 2 ? 'white' : '#000'}; border-radius: 4px; cursor: pointer;" onclick="moveCard(${i})"></div>`).join('')}
                        </div>
                        <div class="game-score" style="color: white;">–û—á–∫–∏: <span id="solitaire-score">0</span> | –í—Ä–µ–º—è: <span id="solitaire-time">00:00</span></div>
                    </div>
                `;
            } else {
                return `
                    <div style="text-align: center; padding: 50px;">
                        <div style="font-size: 64px; margin-bottom: 20px;">${app.icon}</div>
                        <h2>${app.name}</h2>
                        <p>${app.description}</p>
                        <div style="margin: 20px 0;">
                            <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong> ${app.features.join(', ')}
                        </div>
                        <div class="game-controls">
                            <div class="app-button" onclick="startGame('${app.id}')">üéÆ –ò–ì–†–ê–¢–¨</div>
                            <div class="app-button" onclick="gameSettings('${app.id}')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                            <div class="app-button" onclick="gameHelp('${app.id}')">‚ùì –°–ø—Ä–∞–≤–∫–∞</div>
                        </div>
                    </div>
                `;
            }
        }

        function createMultimediaWindow(app) {
            if (app.id === 'winamp') {
                return `
                    <div style="background: linear-gradient(45deg, #FF6600, #FF9900); color: white; height: 100%; padding: 10px;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h2>üéµ ${app.name} v2.95</h2>
                            <div style="font-size: 12px;">"It really whips the llama's ass!"</div>
                        </div>
                        
                        <div class="media-display" style="height: 60px; background: #000; color: #00ff00; display: flex; align-items: center; justify-content: center; font-size: 14px;">
                            ‚ô™‚ô™‚ô™ Prodigy - Firestarter.mp3 ‚ô™‚ô™‚ô™
                        </div>
                        
                        <div style="margin: 10px 0; display: flex; align-items: center; gap: 5px;">
                            <span style="font-size: 10px;">00:00</span>
                            <div style="flex: 1; height: 12px; background: #333; border: 1px inset #666; position: relative;">
                                <div style="width: 35%; height: 100%; background: linear-gradient(to right, #0080ff, #00ff80);"></div>
                            </div>
                            <span style="font-size: 10px;">03:42</span>
                        </div>
                        
                        <div class="media-controls">
                            <div class="media-button" onclick="winampPrev('${app.id}')" title="–ü—Ä–µ–¥—ã–¥—É—â–∏–π">‚èÆÔ∏è</div>
                            <div class="media-button" onclick="winampPlay('${app.id}')" title="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏">‚ñ∂Ô∏è</div>
                            <div class="media-button" onclick="winampPause('${app.id}')" title="–ü–∞—É–∑–∞">‚è∏Ô∏è</div>
                            <div class="media-button" onclick="winampStop('${app.id}')" title="–°—Ç–æ–ø">‚èπÔ∏è</div>
                            <div class="media-button" onclick="winampNext('${app.id}')" title="–°–ª–µ–¥—É—é—â–∏–π">‚è≠Ô∏è</div>
                            <div class="media-button" onclick="winampEqualizer('${app.id}')" title="–≠–∫–≤–∞–ª–∞–π–∑–µ—Ä">üéöÔ∏è</div>
                            <div class="media-button" onclick="winampPlaylist('${app.id}')" title="–ü–ª–µ–π–ª–∏—Å—Ç">üìã</div>
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <h3>üéöÔ∏è –≠–∫–≤–∞–ª–∞–π–∑–µ—Ä</h3>
                            <div style="display: flex; gap: 3px; justify-content: center; margin: 10px 0;">
                                ${Array(10).fill().map((_, i) => `
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 15px; height: 60px; background: #333; border: 1px inset #666; position: relative;">
                                            <div style="width: 100%; height: ${Math.random() * 60}%; background: #00ff00; position: absolute; bottom: 0;"></div>
                                        </div>
                                        <div style="font-size: 8px; margin-top: 2px;">${['60', '170', '310', '600', '1K', '3K', '6K', '12K', '14K', '16K'][i]}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div style="margin-top: 10px;">
                            <h4>üìã –ü–ª–µ–π–ª–∏—Å—Ç</h4>
                            <div style="background: #000; color: #00ff00; height: 80px; overflow-y: auto; padding: 5px; font-family: monospace; font-size: 10px;">
                                <div>1. Prodigy - Firestarter.mp3 [03:42] ‚óÑ Playing</div>
                                <div>2. Fatboy Slim - The Rockafeller Skank.mp3 [06:55]</div>
                                <div>3. The Chemical Brothers - Block Rockin' Beats.mp3 [04:59]</div>
                                <div>4. Daft Punk - Around The World.mp3 [07:09]</div>
                                <div>5. Underworld - Born Slippy.mp3 [09:43]</div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (app.id === 'realplayer') {
                return `
                    <div style="padding: 15px;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h2>üìπ ${app.name}</h2>
                            <div style="font-size: 11px;">–ü–æ—Ç–æ–∫–æ–≤–æ–µ –º—É–ª—å—Ç–∏–º–µ–¥–∏–∞</div>
                        </div>
                        
                        <div class="media-display" style="height: 200px; background: #000; border: 2px inset #666; display: flex; align-items: center; justify-content: center; color: #ffffff;">
                            <div style="text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 10px;">üì∫</div>
                                <div>RealVideo Stream</div>
                                <div style="font-size: 10px; color: #ccc;">320x240 @ 28.8K</div>
                            </div>
                        </div>
                        
                        <div class="media-controls" style="margin: 15px 0;">
                            <div class="media-button" onclick="realPlay('${app.id}')">‚ñ∂Ô∏è</div>
                            <div class="media-button" onclick="realPause('${app.id}')">‚è∏Ô∏è</div>
                            <div class="media-button" onclick="realStop('${app.id}')">‚èπÔ∏è</div>
                            <div class="media-button" onclick="realForward('${app.id}')">‚è©</div>
                            <div class="media-button" onclick="realBack('${app.id}')">‚è™</div>
                            <div class="media-button" onclick="realVolume('${app.id}')">üîä</div>
                            <div class="media-button" onclick="realFullscreen('${app.id}')">‚õ∂</div>
                        </div>
                        
                        <div style="margin: 10px 0;">
                            <strong>üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ä–∞–¥–∏–æ:</strong>
                            <div style="margin: 5px 0;">
                                <select style="width: 100%; padding: 2px;">
                                    <option>BBC World Service</option>
                                    <option>CNN Headline News</option>
                                    <option>MTV Live</option>
                                    <option>Radio Europa</option>
                                    <option>Jazz FM</option>
                                </select>
                            </div>
                            <div class="app-button" onclick="realTuneIn('${app.id}')">üìª –°–ª—É—à–∞—Ç—å</div>
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <strong>üîó –ó–∞–∫–ª–∞–¥–∫–∏:</strong>
                            <div style="font-size: 10px; margin: 5px 0;">
                                <div>üì∫ CNN Live Stream</div>
                                <div>üéµ MTV Music Videos</div>
                                <div>üì∞ BBC News</div>
                                <div>üé¨ Movie Trailers</div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return createDefaultWindow(app);
            }
        }

        function createProductivityWindow(app) {
            if (app.id === 'office97') {
                return `
                    <div style="padding: 20px;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h2>üìÑ Microsoft Office 97</h2>
                            <div style="font-size: 11px;">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏–∑–¥–∞–Ω–∏–µ</div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                            <div style="text-align: center; padding: 15px; border: 1px solid #999; cursor: pointer;" onclick="openWord('${app.id}')">
                                <div style="font-size: 32px; margin-bottom: 5px;">üìù</div>
                                <div><strong>Microsoft Word</strong></div>
                                <div style="font-size: 10px;">–¢–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä</div>
                            </div>
                            <div style="text-align: center; padding: 15px; border: 1px solid #999; cursor: pointer;" onclick="openExcel('${app.id}')">
                                <div style="font-size: 32px; margin-bottom: 5px;">üìä</div>
                                <div><strong>Microsoft Excel</strong></div>
                                <div style="font-size: 10px;">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã</div>
                            </div>
                            <div style="text-align: center; padding: 15px; border: 1px solid #999; cursor: pointer;" onclick="openPowerPoint('${app.id}')">
                                <div style="font-size: 32px; margin-bottom: 5px;">üìΩÔ∏è</div>
                                <div><strong>PowerPoint</strong></div>
                                <div style="font-size: 10px;">–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏</div>
                            </div>
                            <div style="text-align: center; padding: 15px; border: 1px solid #999; cursor: pointer;" onclick="openAccess('${app.id}')">
                                <div style="font-size: 32px; margin-bottom: 5px;">üóÉÔ∏è</div>
                                <div><strong>Microsoft Access</strong></div>
                                <div style="font-size: 10px;">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <h3>üìà –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:</h3>
                            <div style="font-size: 10px; margin: 5px 0;">
                                <div style="margin: 3px 0; cursor: pointer;">üìÑ –û—Ç—á–µ—Ç Q4 1998.doc</div>
                                <div style="margin: 3px 0; cursor: pointer;">üìä –ë—é–¥–∂–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏.xls</div>
                                <div style="margin: 3px 0; cursor: pointer;">üìΩÔ∏è –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞.ppt</div>
                                <div style="margin: 3px 0; cursor: pointer;">üóÉÔ∏è –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∞–∑–∞.mdb</div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <div class="app-button" onclick="officeAssistant('${app.id}')">üßô Office Assistant</div>
                            <div class="app-button" onclick="officeUpdates('${app.id}')">üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è</div>
                        </div>
                    </div>
                `;
            } else if (app.id === 'photoshop') {
                return `
                    <div style="display: flex; height: 100%;">
                        <div style="width: 60px; background: #333; padding: 5px;">
                            <div style="color: white; text-align: center; margin-bottom: 10px; font-size: 10px;">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
                            ${['üèπ', 'üñåÔ∏è', '‚úèÔ∏è', 'ü™£', 'üîç', '‚úÇÔ∏è', 'üìè', 'üé®'].map(tool => 
                                `<div style="width: 48px; height: 48px; background: #666; margin: 2px 0; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px;" onclick="selectTool('${tool}')">${tool}</div>`
                            ).join('')}
                        </div>
                        
                        <div style="flex: 1; display: flex; flex-direction: column;">
                            <div style="height: 30px; background: #ccc; display: flex; align-items: center; padding: 0 10px; font-size: 10px;">
                                –§–∞–π–ª | –ü—Ä–∞–≤–∫–∞ | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ | –°–ª–æ–π | –í—ã–¥–µ–ª–µ–Ω–∏–µ | –§–∏–ª—å—Ç—Ä | –í–∏–¥ | –û–∫–Ω–æ | –°–ø—Ä–∞–≤–∫–∞
                            </div>
                            
                            <div style="flex: 1; background: #999; position: relative; overflow: hidden;">
                                <canvas width="300" height="200" style="background: white; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border: 1px solid #000;"></canvas>
                                <div style="position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px; font-size: 10px;">
                                    –†–∞–∑–º–µ—Ä: 300x200 px<br>
                                    –†–µ–∂–∏–º: RGB<br>
                                    –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 72 dpi
                                </div>
                            </div>
                        </div>
                        
                        <div style="width: 120px; background: #ddd; padding: 5px;">
                            <div style="margin-bottom: 10px;">
                                <div style="font-size: 10px; font-weight: bold; margin-bottom: 5px;">–°–ª–æ–∏</div>
                                <div style="background: white; border: 1px solid #999; padding: 2px; margin-bottom: 2px; font-size: 9px;">üëÅÔ∏è –§–æ–Ω</div>
                                <div style="background: #cce7ff; border: 1px solid #0066cc; padding: 2px; margin-bottom: 2px; font-size: 9px;">üëÅÔ∏è –°–ª–æ–π 1</div>
                            </div>
                            
                            <div style="margin-bottom: 10px;">
                                <div style="font-size: 10px; font-weight: bold; margin-bottom: 5px;">–ò—Å—Ç–æ—Ä–∏—è</div>
                                <div style="background: white; border: 1px solid #999; height: 60px; font-size: 8px; padding: 2px; overflow-y: auto;">
                                    <div>–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</div>
                                    <div>–ö–∏—Å—Ç—å</div>
                                    <div>–ó–∞–ª–∏–≤–∫–∞</div>
                                </div>
                            </div>
                            
                            <div>
                                <div style="font-size: 10px; font-weight: bold; margin-bottom: 5px;">–¶–≤–µ—Ç–∞</div>
                                <div style="display: flex; gap: 5px;">
                                    <div style="width: 30px; height: 30px; background: #000; border: 1px solid #999;"></div>
                                    <div style="width: 30px; height: 30px; background: #fff; border: 1px solid #999;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return createDefaultWindow(app);
            }
        }

        function createInternetWindow(app) {
            if (app.id === 'icq') {
                return `
                    <div style="background: linear-gradient(45deg, #4CAF50, #2196F3); color: white; padding: 15px; height: 100%;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h2>üí¨ ICQ v99a</h2>
                            <div style="font-size: 11px;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: Andrey2914 (–æ–Ω–ª–∞–π–Ω)</div>
                        </div>
                        
                        <div style="background: rgba(255,255,255,0.9); color: black; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">üìã –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤:</div>
                            <div style="margin: 5px 0; display: flex; align-items: center; gap: 5px; cursor: pointer;" onclick="icqChat('friend1')">
                                <span style="color: green;">‚óè</span> –î—Ä—É–≥123 (–í —Å–µ—Ç–∏)
                            </div>
                            <div style="margin: 5px 0; display: flex; align-items: center; gap: 5px; cursor: pointer;" onclick="icqChat('colleague')">
                                <span style="color: orange;">‚óè</span> –ö–æ–ª–ª–µ–≥–∞_–ò–≤–∞–Ω (–û—Ç–æ—à–µ–ª)
                            </div>
                            <div style="margin: 5px 0; display: flex; align-items: center; gap: 5px;">
                                <span style="color: red;">‚óè</span> –ú–∞–º–∞ (–ù–µ –≤ —Å–µ—Ç–∏)
                            </div>
                            <div style="margin: 5px 0; display: flex; align-items: center; gap: 5px; cursor: pointer;" onclick="icqChat('work')">
                                <span style="color: green;">‚óè</span> –†–∞–±–æ—Ç–∞_–ü–µ—Ç—Ä (–í —Å–µ—Ç–∏)
                            </div>
                        </div>
                        
                        <div style="background: rgba(255,255,255,0.9); color: black; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">üí¨ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:</div>
                            <div style="font-size: 10px; margin: 3px 0;">
                                <strong>–î—Ä—É–≥123:</strong> –ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?
                            </div>
                            <div style="font-size: 10px; margin: 3px 0;">
                                <strong>–†–∞–±–æ—Ç–∞_–ü–µ—Ç—Ä:</strong> –û—Ç—á–µ—Ç –≥–æ—Ç–æ–≤
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 5px; margin-bottom: 10px;">
                            <input type="text" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1; padding: 5px; border: none; border-radius: 3px;">
                            <div class="app-button" onclick="icqSend('${app.id}')">üì§</div>
                        </div>
                        
                        <div style="display: flex; gap: 5px;">
                            <div class="app-button" onclick="icqAddContact('${app.id}')">üë§ –î–æ–±–∞–≤–∏—Ç—å</div>
                            <div class="app-button" onclick="icqSearch('${app.id}')">üîç –ü–æ–∏—Å–∫</div>
                            <div class="app-button" onclick="icqSettings('${app.id}')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                        </div>
                        
                        <div style="margin-top: 15px; font-size: 10px; text-align: center;">
                            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–Ω–ª–∞–π–Ω: 2,847,391<br>
                            –í–∞—à UIN: 12345678
                        </div>
                    </div>
                `;
            } else {
                return createDefaultWindow(app);
            }
        }

        function createUtilityWindow(app) {
            if (app.id === 'winzip') {
                return `
                    <div style="padding: 15px;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h2>üì¶ ${app.name}</h2>
                            <div style="font-size: 11px;">–ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤</div>
                        </div>
                        
                        <div style="background: white; border: 1px inset #ccc; height: 200px; margin-bottom: 15px; padding: 5px;">
                            <div style="background: #f0f0f0; padding: 5px; border-bottom: 1px solid #ccc; font-weight: bold; font-size: 10px;">
                                –ò–º—è | –¢–∏–ø | –†–∞–∑–º–µ—Ä | –°–∂–∞—Ç–æ | –î–∞—Ç–∞
                            </div>
                            <div style="padding: 5px; font-size: 10px;">
                                <div style="margin: 2px 0; cursor: pointer;">üìÑ readme.txt | –¢–µ–∫—Å—Ç | 2.1 KB | 1.8 KB | 15.07.98</div>
                                <div style="margin: 2px 0; cursor: pointer;">üñºÔ∏è image.bmp | Bitmap | 245 KB | 89 KB | 14.07.98</div>
                                <div style="margin: 2px 0; cursor: pointer;">üíª setup.exe | –ü—Ä–æ–≥—Ä–∞–º–º–∞ | 1.2 MB | 654 KB | 13.07.98</div>
                                <div style="margin: 2px 0; cursor: pointer;">üìÅ docs/ | –ü–∞–ø–∫–∞ | - | - | 12.07.98</div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 5px; margin-bottom: 15px;">
                            <div class="app-button" onclick="winzipNew('${app.id}')">üì¶ –°–æ–∑–¥–∞—Ç—å</div>
                            <div class="app-button" onclick="winzipOpen('${app.id}')">üìÇ –û—Ç–∫—Ä—ã—Ç—å</div>
                            <div class="app-button" onclick="winzipExtract('${app.id}')">üì§ –ò–∑–≤–ª–µ—á—å</div>
                            <div class="app-button" onclick="winzipAdd('${app.id}')">‚ûï –î–æ–±–∞–≤–∏—Ç—å</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <strong>üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∂–∞—Ç–∏—è:</strong>
                            <div style="margin: 5px 0;">
                                <label><input type="radio" name="compression" checked> –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ</label><br>
                                <label><input type="radio" name="compression"> –û–±—ã—á–Ω–æ–µ —Å–∂–∞—Ç–∏–µ</label><br>
                                <label><input type="radio" name="compression"> –ë—ã—Å—Ç—Ä–æ–µ —Å–∂–∞—Ç–∏–µ</label>
                            </div>
                            <label><input type="checkbox"> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</label>
                        </div>
                        
                        <div style="background: #f0f0f0; padding: 10px; border: 1px solid #ccc;">
                            <div style="font-size: 10px;">
                                <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong><br>
                                –§–∞–π–ª–æ–≤: 4 | –ü–∞–ø–æ–∫: 1<br>
                                –ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 1.45 MB<br>
                                –°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä: 742 KB<br>
                                –°—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è: 48.9%
                            </div>
                        </div>
                    </div>
                `;
            } else if (app.id === 'norton') {
                return `
                    <div style="background: linear-gradient(45deg, #FFD700, #FFA500); padding: 15px; height: 100%;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h2>üõ°Ô∏è Norton AntiVirus</h2>
                            <div style="font-size: 11px;">–í–µ—Ä—Å–∏—è 4.0 - –ó–∞—â–∏—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                <div style="font-size: 32px;">‚úÖ</div>
                                <div>
                                    <div style="font-weight: bold; color: green;">–°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞</div>
                                    <div style="font-size: 10px;">–ê–≤—Ç–æ–∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞</div>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 10px;">
                                <strong>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—â–∏—Ç—ã:</strong>
                                <div style="font-size: 10px; margin: 5px 0;">
                                    <div>–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –°–µ–≥–æ–¥–Ω—è, 14:32</div>
                                    <div>–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: 45,821</div>
                                    <div>–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —É–≥—Ä–æ–∑: 3 (–ø–æ–º–µ—â–µ–Ω—ã –≤ –∫–∞—Ä–∞–Ω—Ç–∏–Ω)</div>
                                    <div>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ê–∫—Ç—É–∞–ª—å–Ω–∞ (16.07.98)</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 5px; margin-bottom: 15px;">
                            <div class="app-button" onclick="nortonScan('${app.id}')">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</div>
                            <div class="app-button" onclick="nortonQuarantine('${app.id}')">üè• –ö–∞—Ä–∞–Ω—Ç–∏–Ω</div>
                            <div class="app-button" onclick="nortonUpdate('${app.id}')">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</div>
                            <div class="app-button" onclick="nortonSettings('${app.id}')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                        </div>
                        
                        <div style="background: white; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">ü¶† –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É–≥—Ä–æ–∑—ã:</div>
                            <div style="font-size: 10px;">
                                <div style="color: red;">‚ö†Ô∏è Trojan.Win32.Fake - –£–¥–∞–ª–µ–Ω</div>
                                <div style="color: orange;">‚ö†Ô∏è Adware.Cookie - –ö–∞—Ä–∞–Ω—Ç–∏–Ω</div>
                                <div style="color: red;">‚ö†Ô∏è Virus.Boot.Sector - –í—ã–ª–µ—á–µ–Ω</div>
                            </div>
                        </div>
                        
                        <div style="background: white; padding: 10px; border-radius: 5px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:</div>
                            <div style="font-size: 10px;">
                                <div>–ó–∞–≥—Ä—É–∑–∫–∞ CPU: 12%</div>
                                <div>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: 8.2 MB</div>
                                <div>–°–∫–æ—Ä–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: 2,341 —Ñ–∞–π–ª–æ–≤/–º–∏–Ω</div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return createDefaultWindow(app);
            }
        }

        function createDevelopmentWindow(app) {
            if (app.id === 'visualstudio') {
                return `
                    <div style="display: flex; height: 100%; background: #f0f0f0;">
                        <div style="width: 200px; background: #e0e0e0; border-right: 1px solid #999; padding: 5px;">
                            <div style="font-weight: bold; margin-bottom: 10px; font-size: 10px;">–û–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤</div>
                            <div style="font-size: 10px;">
                                <div style="margin: 2px 0; cursor: pointer;">üìÅ MyProject</div>
                                <div style="margin: 2px 0; margin-left: 15px; cursor: pointer;">üìÑ main.cpp</div>
                                <div style="margin: 2px 0; margin-left: 15px; cursor: pointer;">üìÑ dialog.cpp</div>
                                <div style="margin: 2px 0; margin-left: 15px; cursor: pointer;">üìÑ resource.rc</div>
                                <div style="margin: 2px 0; margin-left: 15px; cursor: pointer;">üìÑ stdafx.h</div>
                            </div>
                        </div>
                        
                        <div style="flex: 1; display: flex; flex-direction: column;">
                            <div style="height: 25px; background: #d0d0d0; display: flex; align-items: center; padding: 0 5px; font-size: 10px; border-bottom: 1px solid #999;">
                                –§–∞–π–ª | –ü—Ä–∞–≤–∫–∞ | –í–∏–¥ | –ü—Ä–æ–µ–∫—Ç | –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ | –û—Ç–ª–∞–¥–∫–∞ | –°–µ—Ä–≤–∏—Å | –û–∫–Ω–æ | –°–ø—Ä–∞–≤–∫–∞
                            </div>
                            
                            <div style="height: 30px; background: #e8e8e8; display: flex; align-items: center; padding: 0 5px; border-bottom: 1px solid #999;">
                                <div class="toolbar-button" title="–°–æ–∑–¥–∞—Ç—å">üìÑ</div>
                                <div class="toolbar-button" title="–û—Ç–∫—Ä—ã—Ç—å">üìÇ</div>
                                <div class="toolbar-button" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">üíæ</div>
                                <div style="margin: 0 10px;">|</div>
                                <div class="toolbar-button" title="–í—ã—Ä–µ–∑–∞—Ç—å">‚úÇÔ∏è</div>
                                <div class="toolbar-button" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</div>
                                <div class="toolbar-button" title="–í—Å—Ç–∞–≤–∏—Ç—å">üìã</div>
                                <div style="margin: 0 10px;">|</div>
                                <div class="toolbar-button" title="–ü–æ—Å—Ç—Ä–æ–∏—Ç—å">üî®</div>
                                <div class="toolbar-button" title="–û—Ç–ª–∞–¥–∫–∞">üêõ</div>
                                <div class="toolbar-button" title="–ó–∞–ø—É—Å–∫">‚ñ∂Ô∏è</div>
                            </div>
                            
                            <div style="flex: 1; background: white; font-family: 'Courier New', monospace; font-size: 11px; padding: 10px; overflow: auto;">
                                <div style="color: blue;">#include</div>
                                <div style="color: blue;">#include</div>
                                <div><br></div>
                                <div><span style="color: blue;">int</span> <span style="color: purple;">main</span>() {</div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã</span></div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">printf</span>(<span style="color: red;">"Hello, World!\\n"</span>);</div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">return</span> <span style="color: red;">0</span>;</div>
                                <div>}</div>
                                <div style="background: yellow; display: inline;">|</div>
                            </div>
                        </div>
                        
                        <div style="width: 150px; background: #e0e0e0; border-left: 1px solid #999; padding: 5px;">
                            <div style="font-weight: bold; margin-bottom: 5px; font-size: 10px;">–°–≤–æ–π—Å—Ç–≤–∞</div>
                            <div style="font-size: 9px; margin-bottom: 10px;">
                                <div>–¢–∏–ø: Win32 Application</div>
                                <div>–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä: Visual C++ 6.0</div>
                                <div>–û—Ç–ª–∞–¥–∫–∞: Debug</div>
                            </div>
                            
                            <div style="font-weight: bold; margin-bottom: 5px; font-size: 10px;">–í—ã–≤–æ–¥</div>
                            <div style="background: white; height: 80px; overflow-y: auto; font-size: 9px; padding: 2px; border: 1px inset #ccc;">
                                –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –Ω–∞—á–∞—Ç–æ...<br>
                                –ö–æ–º–ø–∏–ª—è—Ü–∏—è main.cpp<br>
                                –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞...<br>
                                MyProject.exe - 0 –æ—à–∏–±–æ–∫, 0 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return createDefaultWindow(app);
            }
        }

        function createDefaultWindow(app) {
            return `
                <div style="text-align: center; padding: 50px;">
                    <div style="font-size: 64px; margin-bottom: 20px;">${app.icon}</div>
                    <h2>${app.name}</h2>
                    <p>${app.description}</p>
                    <div style="margin: 20px 0;">
                        <strong>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</strong> ${app.developer}<br>
                        <strong>–†–∞–∑–º–µ—Ä:</strong> ${app.size}<br>
                        <strong>–†–µ–π—Ç–∏–Ω–≥:</strong> ‚≠ê ${app.rating}/5.0
                    </div>
                    <div style="margin: 20px 0;">
                        <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong><br>
                        ${app.features.map(f => `‚Ä¢ ${f}`).join('<br>')}
                    </div>
                    <div class="app-button" onclick="alert('${app.name} –∑–∞–ø—É—â–µ–Ω!')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                </div>
            `;
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–∫–æ–Ω
        function createSystemWindows() {
            // –ë–ª–æ–∫–Ω–æ—Ç
            const notepadWindow = document.createElement('div');
            notepadWindow.className = 'window';
            notepadWindow.id = 'notepadWindow';
            notepadWindow.style.width = '600px';
            notepadWindow.style.height = '450px';
            notepadWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üìù</div>
                    <div class="window-title">–ë–ª–æ–∫–Ω–æ—Ç - –ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–ü–æ–∏—Å–∫</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content" style="padding: 0;">
                    <textarea class="selectable" style="width: 100%; height: 100%; border: none; padding: 8px; font-family: 'Courier New', monospace; font-size: 12px; resize: none; outline: none;" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">–ì–æ—Ç–æ–≤</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(notepadWindow);

            // Paint
            const paintWindow = document.createElement('div');
            paintWindow.className = 'window';
            paintWindow.id = 'paintWindow';
            paintWindow.style.width = '700px';
            paintWindow.style.height = '500px';
            paintWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üé®</div>
                    <div class="window-title">Paint</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–†–∏—Å—É–Ω–æ–∫</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content" style="padding: 0; display: flex; flex-direction: column;">
                    <div style="height: 40px; background: #c0c0c0; border-bottom: 1px solid #808080; display: flex; align-items: center; padding: 0 8px; gap: 4px;">
                        <div class="toolbar-button" title="–ö–∞—Ä–∞–Ω–¥–∞—à">‚úèÔ∏è</div>
                        <div class="toolbar-button" title="–ö–∏—Å—Ç—å">üñåÔ∏è</div>
                        <div class="toolbar-button" title="–ó–∞–ª–∏–≤–∫–∞">ü™£</div>
                        <div class="toolbar-button" title="–õ–∞—Å—Ç–∏–∫">üßΩ</div>
                        <div class="toolbar-button" title="–û—á–∏—Å—Ç–∏—Ç—å">üóëÔ∏è</div>
                        <div style="margin-left: 20px; display: flex; gap: 2px;">
                            ${['#000', '#fff', '#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff'].map(color => 
                                `<div style="width: 20px; height: 20px; background: ${color}; border: 1px solid #808080; cursor: pointer;" onclick="selectPaintColor('${color}')"></div>`
                            ).join('')}
                        </div>
                    </div>
                    <div style="flex: 1; padding: 8px;">
                        <canvas id="paintCanvas" width="650" height="400" style="border: 1px inset #c0c0c0; background: white; cursor: crosshair;"></canvas>
                    </div>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">–ì–æ—Ç–æ–≤</div>
                    <div class="status-panel">–†–∞–∑–º–µ—Ä: 650x400</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(paintWindow);

            // –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
            const fileManagerWindow = document.createElement('div');
            fileManagerWindow.className = 'window';
            fileManagerWindow.id = 'filemanagerWindow';
            fileManagerWindow.style.width = '600px';
            fileManagerWindow.style.height = '450px';
            fileManagerWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üìÅ</div>
                    <div class="window-title">–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 20px; padding: 20px;">
                        <div style="text-align: center; cursor: pointer; padding: 10px;" onclick="openDrive('C')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üíΩ</div>
                            <div style="font-size: 12px;">–î–∏—Å–∫ (C:)</div>
                            <div style="font-size: 10px; color: #666;">15.2 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ</div>
                        </div>
                        <div style="text-align: center; cursor: pointer; padding: 10px;" onclick="openDrive('D')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üíø</div>
                            <div style="font-size: 12px;">–î–∏—Å–∫ (D:)</div>
                            <div style="font-size: 10px; color: #666;">CD-ROM</div>
                        </div>
                        <div style="text-align: center; cursor: pointer; padding: 10px;" onclick="openDrive('A')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üíæ</div>
                            <div style="font-size: 12px;">–î–∏—Å–∫ (A:)</div>
                            <div style="font-size: 10px; color: #666;">3.5 –¥–∏—Å–∫–µ—Ç–∞</div>
                        </div>
                        <div style="text-align: center; cursor: pointer; padding: 10px;" onclick="openFolder('Documents')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üìÅ</div>
                            <div style="font-size: 12px;">–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</div>
                            <div style="font-size: 10px; color: #666;">–ü–∞–ø–∫–∞</div>
                        </div>
                        <div style="text-align: center; cursor: pointer; padding: 10px;" onclick="openControlPanel()">
                            <div style="font-size: 48px; margin-bottom: 8px;">‚öôÔ∏è</div>
                            <div style="font-size: 12px;">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                            <div style="font-size: 10px; color: #666;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                        </div>
                        <div style="text-align: center; cursor: pointer; padding: 10px;" onclick="openRecycleBin()">
                            <div style="font-size: 48px; margin-bottom: 8px;">üóëÔ∏è</div>
                            <div style="font-size: 12px;">–ö–æ—Ä–∑–∏–Ω–∞</div>
                            <div style="font-size: 10px; color: #666;">3 –æ–±—ä–µ–∫—Ç–∞</div>
                        </div>
                    </div>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">6 –æ–±—ä–µ–∫—Ç–æ–≤</div>
                    <div class="status-panel">–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(fileManagerWindow);

            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–∫–Ω–∞
            createAdditionalSystemWindows();
        }

        function createAdditionalSystemWindows() {
            // –°–∞–ø–µ—Ä
            const minesweeperWindow = document.createElement('div');
            minesweeperWindow.className = 'window';
            minesweeperWindow.id = 'minesweeperWindow';
            minesweeperWindow.style.width = '320px';
            minesweeperWindow.style.height = '400px';
            minesweeperWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üí£</div>
                    <div class="window-title">–°–∞–ø–µ—Ä</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–ò–≥—Ä–∞</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div class="status-panel" style="font-family: monospace; color: red;">010</div>
                        <div class="app-button" onclick="resetMinesweeper()" style="font-size: 16px;">üôÇ</div>
                        <div class="status-panel" style="font-family: monospace; color: red;">000</div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(10, 1fr); gap: 1px; background: #808080; padding: 4px;">
                        ${Array(100).fill().map((_, i) => 
                            `<div class="mine-cell" style="width: 24px; height: 24px; background: #c0c0c0; border: 1px outset #c0c0c0; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: bold;" onclick="revealMineCell(${i})" oncontextmenu="flagMineCell(${i}); return false;"></div>`
                        ).join('')}
                    </div>
                </div>
            `;
            document.getElementById('desktop').appendChild(minesweeperWindow);

            // –ü–∞—Å—å—è–Ω—Å
            const solitaireWindow = document.createElement('div');
            solitaireWindow.className = 'window';
            solitaireWindow.id = 'solitaireWindow';
            solitaireWindow.style.width = '700px';
            solitaireWindow.style.height = '500px';
            solitaireWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üÉè</div>
                    <div class="window-title">–ü–∞—Å—å—è–Ω—Å</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–ò–≥—Ä–∞</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content" style="background: #008000; padding: 15px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div class="app-button" onclick="newSolitaireGame()">üÜï –ù–æ–≤–∞—è –∏–≥—Ä–∞</div>
                        <div class="app-button" onclick="undoSolitaireMove()">‚Ü∂ –û—Ç–º–µ–Ω–∏—Ç—å</div>
                        <div class="app-button" onclick="solitaireHint()">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
                    </div>
                    <div style="display: flex; justify-content: space-around; margin-bottom: 30px;">
                        <div class="card-foundation" style="width: 70px; height: 90px; border: 2px dashed #ffffff; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">‚ô†Ô∏è</div>
                        <div class="card-foundation" style="width: 70px; height: 90px; border: 2px dashed #ffffff; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">‚ô•Ô∏è</div>
                        <div class="card-foundation" style="width: 70px; height: 90px; border: 2px dashed #ffffff; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">‚ô¶Ô∏è</div>
                        <div class="card-foundation" style="width: 70px; height: 90px; border: 2px dashed #ffffff; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">‚ô£Ô∏è</div>
                    </div>
                    <div style="display: flex; justify-content: space-around;">
                        ${Array(7).fill().map((_, i) => 
                            `<div class="card-column" style="width: 70px; min-height: 90px; position: relative;">
                                <div style="width: 70px; height: 90px; background: #000080; border: 2px solid white; border-radius: 8px; position: absolute; top: 0;"></div>
                            </div>`
                        ).join('')}
                    </div>
                    <div style="margin-top: 20px; text-align: center; color: white; font-family: monospace;">
                        –û—á–∫–∏: <span id="solitaire-score">0</span> | –í—Ä–µ–º—è: <span id="solitaire-time">00:00</span>
                    </div>
                </div>
            `;
            document.getElementById('desktop').appendChild(solitaireWindow);

            // –ú–µ–¥–∏–∞–ø–ª–µ–µ—Ä
            const mediaPlayerWindow = document.createElement('div');
            mediaPlayerWindow.className = 'window';
            mediaPlayerWindow.id = 'mediaplayerWindow';
            mediaPlayerWindow.style.width = '450px';
            mediaPlayerWindow.style.height = '350px';
            mediaPlayerWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üéµ</div>
                    <div class="window-title">Windows Media Player</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    <div class="media-display" style="height: 160px; background: #000; color: #00ff00; display: flex; align-items: center; justify-content: center; font-size: 18px; margin-bottom: 15px;">
                        ‚ô™ Windows Media Player ‚ô™
                    </div>
                    <div style="margin: 10px 0; background: #c0c0c0; border: 1px inset #c0c0c0; height: 20px; display: flex; align-items: center; padding: 0 5px;">
                        <span style="font-size: 10px; margin-right: 5px;">00:00</span>
                        <div style="flex: 1; height: 8px; background: #808080; border: 1px inset #c0c0c0; position: relative;">
                            <div style="width: 25%; height: 100%; background: linear-gradient(to right, #0080ff, #00ff80);"></div>
                        </div>
                        <span style="font-size: 10px; margin-left: 5px;">04:23</span>
                    </div>
                    <div class="media-controls" style="margin: 15px 0;">
                        <div class="media-button" onclick="mediaAction('prev')">‚èÆÔ∏è</div>
                        <div class="media-button" onclick="mediaAction('play')">‚ñ∂Ô∏è</div>
                        <div class="media-button" onclick="mediaAction('pause')">‚è∏Ô∏è</div>
                        <div class="media-button" onclick="mediaAction('stop')">‚èπÔ∏è</div>
                        <div class="media-button" onclick="mediaAction('next')">‚è≠Ô∏è</div>
                        <div class="media-button" onclick="mediaAction('volume')">üîä</div>
                        <div class="media-button" onclick="mediaAction('fullscreen')">‚õ∂</div>
                    </div>
                    <div style="text-align: center; font-size: 10px;">
                        <div>–°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç: Example Song.mp3</div>
                        <div>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: Unknown Artist</div>
                    </div>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</div>
                    <div class="status-panel">–°—Ç–µ—Ä–µ–æ 44 –∫–ì—Ü</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(mediaPlayerWindow);

            // –¢–µ—Ä–º–∏–Ω–∞–ª
            const terminalWindow = document.createElement('div');
            terminalWindow.className = 'window';
            terminalWindow.id = 'terminalWindow';
            terminalWindow.style.width = '600px';
            terminalWindow.style.height = '400px';
            terminalWindow.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üíª</div>
                    <div class="window-title">–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ MS-DOS</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-content" style="padding: 0; background: #000; color: #c0c0c0; font-family: 'Courier New', monospace; font-size: 12px;">
                    <div style="padding: 10px; height: 100%; overflow-y: auto;" id="terminalOutput">
                        <div>Microsoft Windows 98 [–í–µ—Ä—Å–∏—è 4.10.2222]</div>
                        <div>(C) –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –ú–∞–π–∫—Ä–æ—Å–æ—Ñ—Ç, 1981-1998.</div>
                        <div></div>
                        <div id="terminalPrompt">C:\\WINDOWS></div>
                    </div>
                    <input type="text" class="selectable" id="terminalInput" style="position: absolute; bottom: 0; left: 0; width: 100%; background: transparent; border: none; color: #c0c0c0; font-family: 'Courier New', monospace; font-size: 12px; padding: 0 10px; outline: none;" placeholder="">
                </div>
            `;
            document.getElementById('desktop').appendChild(terminalWindow);

            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
            setTimeout(() => {
                const terminalInput = document.getElementById('terminalInput');
                if (terminalInput) {
                    terminalInput.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            const command = this.value.trim();
                            const output = document.getElementById('terminalOutput');
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –≤ –≤—ã–≤–æ–¥
                            const commandLine = document.createElement('div');
                            commandLine.textContent = `C:\\WINDOWS>${command}`;
                            output.appendChild(commandLine);
                            
                            // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—É
                            executeTerminalCommand(command);
                            this.value = '';
                            
                            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
                            output.scrollTop = output.scrollHeight;
                        }
                    });
                }
            }, 1000);
        }

        function executeTerminalCommand(command) {
            const output = document.getElementById('terminalOutput');
            const cmd = command.toLowerCase();
            let response = '';
            
            switch(cmd) {
                case 'dir':
                    response = ` –¢–æ–º –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ C –∏–º–µ–µ—Ç –º–µ—Ç–∫—É SYSTEM
 –°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–æ–º–∞: 1A2B-3C4D

 –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ C:\\WINDOWS

16.07.1998  14:32    <DIR>          .
16.07.1998  14:32    <DIR>          ..
15.06.1998  12:00    <DIR>          SYSTEM
15.06.1998  12:00    <DIR>          SYSTEM32
15.06.1998  12:00    <DIR>          FONTS
15.06.1998  12:00    <DIR>          TEMP
15.06.1998  12:00       286,720    NOTEPAD.EXE
15.06.1998  12:00        32,768    CALC.EXE
15.06.1998  12:00     1,421,312    EXPLORER.EXE
               3 —Ñ–∞–π–ª–æ–≤      1,740,800 –±–∞–π—Ç
               6 –ø–∞–ø–æ–∫    245,760,000 –±–∞–π—Ç —Å–≤–æ–±–æ–¥–Ω–æ`;
                    break;
                case 'cls':
                    output.innerHTML = `
                        <div>Microsoft Windows 98 [–í–µ—Ä—Å–∏—è 4.10.2222]</div>
                        <div>(C) –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –ú–∞–π–∫—Ä–æ—Å–æ—Ñ—Ç, 1981-1998.</div>
                        <div></div>
                        <div id="terminalPrompt">C:\\WINDOWS></div>
                    `;
                    return;
                case 'ver':
                    response = 'Microsoft Windows 98 [–í–µ—Ä—Å–∏—è 4.10.2222]';
                    break;
                case 'time':
                    response = `–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: ${new Date().toLocaleTimeString()}`;
                    break;
                case 'date':
                    response = `–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞: ${new Date().toLocaleDateString()}`;
                    break;
                case 'mem':
                    response = `–ü–∞–º—è—Ç—å —Å–∏—Å—Ç–µ–º—ã:
 –û–±—â–∞—è –ø–∞–º—è—Ç—å: 65,536 –ö–ë
 –î–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å: 45,231 –ö–ë
 –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å: 32,768 –ö–ë
 –°–≤–æ–±–æ–¥–Ω–∞—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è: 28,945 –ö–ë`;
                    break;
                case 'help':
                    response = `–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
DIR     - –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
CLS     - –û—á–∏—Å—Ç–∫–∞ —ç–∫—Ä–∞–Ω–∞
VER     - –í–µ—Ä—Å–∏—è Windows
TIME    - –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
DATE    - –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞
MEM     - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏
HELP    - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
EXIT    - –í—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
NOTEPAD - –ó–∞–ø—É—Å–∫ –ë–ª–æ–∫–Ω–æ—Ç–∞
CALC    - –ó–∞–ø—É—Å–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
EXPLORER- –ó–∞–ø—É—Å–∫ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∞`;
                    break;
                case 'exit':
                    closeWindow('terminal');
                    return;
                case 'notepad':
                    openApp('notepad');
                    response = '–ó–∞–ø—É—Å–∫ –ë–ª–æ–∫–Ω–æ—Ç–∞...';
                    break;
                case 'calc':
                    openApp('calculator');
                    response = '–ó–∞–ø—É—Å–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞...';
                    break;
                case 'explorer':
                    openApp('filemanager');
                    response = '–ó–∞–ø—É—Å–∫ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∞...';
                    break;
                default:
                    response = `'${command}' –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–π –∫–æ–º–∞–Ω–¥–æ–π,
–∏—Å–ø–æ–ª–Ω—è–µ–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –∏–ª–∏ –ø–∞–∫–µ—Ç–Ω—ã–º —Ñ–∞–π–ª–æ–º.`;
            }
            
            const responseLine = document.createElement('div');
            responseLine.innerHTML = response.replace(/\n/g, '<br>');
            output.appendChild(responseLine);
            
            const promptLine = document.createElement('div');
            promptLine.innerHTML = 'C:\\WINDOWS>';
            promptLine.id = 'terminalPrompt';
            output.appendChild(promptLine);
        }

        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫–Ω–∞
        function activateWindow(windowElement) {
            document.querySelectorAll('.window').forEach(w => {
                w.classList.remove('active');
                w.classList.add('inactive');
            });
            
            windowElement.classList.add('active');
            windowElement.classList.remove('inactive');
            windowElement.style.zIndex = ++zIndexCounter;
            activeWindow = windowElement;
            
            updateTaskbar();
        }

        // –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á
        function updateTaskbar() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';
            
            openWindows.forEach(appName => {
                const taskItem = document.createElement('div');
                taskItem.className = 'task-item';
                taskItem.innerHTML = `<span style="margin-right: 4px;">${getAppIcon(appName)}</span>${getAppTitle(appName)}`;
                taskItem.onclick = () => {
                    const windowElement = document.getElementById(appName + 'Window');
                    if (windowElement.style.display === 'none') {
                        windowElement.style.display = 'block';
                    }
                    activateWindow(windowElement);
                };
                
                const windowElement = document.getElementById(appName + 'Window');
                if (windowElement && windowElement.classList.contains('active')) {
                    taskItem.classList.add('active');
                }
                
                taskList.appendChild(taskItem);
            });
        }

        function getAppIcon(appName) {
            const icons = {
                'browser': 'üåê',
                'filemanager': 'üìÅ',
                'calculator': 'üî¢',
                'notepad': 'üìù',
                'paint': 'üé®',
                'appstore': 'üè™',
                'minesweeper': 'üí£',
                'solitaire': 'üÉè',
                'mediaplayer': 'üéµ',
                'terminal': 'üíª'
            };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const app = appDatabase.find(a => a.id === appName);
            if (app) return app.icon;
            
            return icons[appName] || 'üìÑ';
        }

        function getAppTitle(appName) {
            const titles = {
                'browser': 'Internet Explorer',
                'filemanager': '–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä',
                'calculator': '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä',
                'notepad': '–ë–ª–æ–∫–Ω–æ—Ç',
                'paint': 'Paint',
                'appstore': '–ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π',
                'minesweeper': '–°–∞–ø–µ—Ä',
                'solitaire': '–ü–∞—Å—å—è–Ω—Å',
                'mediaplayer': '–ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å',
                'terminal': '–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞'
            };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const app = appDatabase.find(a => a.id === appName);
            if (app) return app.name;
            
            return titles[appName] || appName;
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('window-control')) {
                const action = e.target.dataset.action;
                const windowElement = e.target.closest('.window');
                const appName = windowElement.id.replace('Window', '');
                
                switch(action) {
                    case 'close':
                        closeWindow(appName);
                        break;
                    case 'minimize':
                        minimizeWindow(windowElement);
                        break;
                    case 'maximize':
                        maximizeWindow(windowElement);
                        break;
                }
            }
        });

        function closeWindow(appName) {
            const windowElement = document.getElementById(appName + 'Window');
            windowElement.style.display = 'none';
            openWindows.delete(appName);
            updateTaskbar();
        }

        function minimizeWindow(windowElement) {
            windowElement.style.display = 'none';
        }

        function maximizeWindow(windowElement) {
            if (windowElement.classList.contains('maximized')) {
                windowElement.classList.remove('maximized');
                windowElement.style.width = '';
                windowElement.style.height = '';
                windowElement.style.top = '';
                windowElement.style.left = '';
            } else {
                windowElement.classList.add('maximized');
                windowElement.style.width = '100vw';
                windowElement.style.height = 'calc(100vh - 30px)';
                windowElement.style.top = '0';
                windowElement.style.left = '0';
            }
        }

        // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –æ–∫–æ–Ω
        let isDragging = false;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        document.addEventListener('mousedown', function(e) {
            const titlebar = e.target.closest('.window-titlebar');
            if (titlebar && !e.target.classList.contains('window-control')) {
                isDragging = true;
                const windowElement = titlebar.closest('.window');
                activateWindow(windowElement);
                
                const rect = windowElement.getBoundingClientRect();
                dragOffsetX = e.clientX - rect.left;
                dragOffsetY = e.clientY - rect.top;
                
                document.addEventListener('mousemove', dragWindow);
                document.addEventListener('mouseup', stopDrag);
            }
        });

        function dragWindow(e) {
            if (!isDragging || !activeWindow) return;
            
            const x = e.clientX - dragOffsetX;
            const y = e.clientY - dragOffsetY;
            
            activeWindow.style.left = Math.max(0, Math.min(x, window.innerWidth - 200)) + 'px';
            activeWindow.style.top = Math.max(0, Math.min(y, window.innerHeight - 100)) + 'px';
        }

        function stopDrag() {
            isDragging = false;
            document.removeEventListener('mousemove', dragWindow);
            document.removeEventListener('mouseup', stopDrag);
        }

        // –ò–°–ü–†–ê–í–õ–ï–ù: –ë—Ä–∞—É–∑–µ—Ä —Å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–º–∏ —Å–∞–π—Ç–∞–º–∏
        function navigateToUrl() {
            const url = document.getElementById('addressInput').value.trim();
            if (!url) return;
            
            let finalUrl = url;
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                finalUrl = 'https://' + url;
                document.getElementById('addressInput').value = finalUrl;
            }
            
            // –°–æ–∑–¥–∞–µ–º iframe –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω –±—Ä–∞—É–∑–µ—Ä–∞
            const browserFrame = document.getElementById('browserFrame');
            browserFrame.innerHTML = `<iframe src="${finalUrl}" class="browser-iframe" title="Browser Content" allow="fullscreen"></iframe>`;
            
            document.getElementById('browserStatus').textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
            
            setTimeout(() => {
                document.getElementById('browserStatus').textContent = '–ì–æ—Ç–æ–≤';
            }, 3000);
        }

        function navigateTo(url) {
            document.getElementById('addressInput').value = url;
            navigateToUrl();
        }

        function browserAction(action) {
            switch(action) {
                case 'back':
                    showNotification('–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞–∑–∞–¥');
                    break;
                case 'forward':
                    showNotification('–ü–µ—Ä–µ—Ö–æ–¥ –≤–ø–µ—Ä–µ–¥');
                    break;
                case 'refresh':
                    navigateToUrl();
                    showNotification('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
                    break;
                case 'home':
                    navigateTo('https://www.google.com');
                    break;
                case 'search':
                    navigateTo('https://www.google.com');
                    break;
                case 'favorites':
                    showNotification('–ò–∑–±—Ä–∞–Ω–Ω–æ–µ');
                    break;
            }
        }

        // –ò–°–ü–†–ê–í–õ–ï–ù: –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
        function loadStoreApps() {
            const storeApps = document.getElementById('storeApps');
            storeApps.innerHTML = '';
            
            appDatabase.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'app-item';
                appItem.innerHTML = `
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${app.rating}/5.0 | ${app.size}</div>
                    </div>
                    <div class="app-actions">
                        <div class="app-button ${installedApps.has(app.id) ? 'installed' : ''}" 
                             onclick="installApp('${app.id}')">
                            ${installedApps.has(app.id) ? '‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : 'üì• –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'}
                        </div>
                        <div class="app-button" onclick="openApp('${app.id}')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                    </div>
                `;
                storeApps.appendChild(appItem);
            });
        }

        function installApp(appId) {
            const app = appDatabase.find(a => a.id === appId);
            if (!app) return;
            
            if (installedApps.has(appId)) {
                showNotification(`${app.name} —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ`);
                return;
            }
            
            // –≠–º—É–ª—è—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
            showNotification(`–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ ${app.name}...`);
            
            setTimeout(() => {
                showNotification(`–ó–∞–≥—Ä—É–∑–∫–∞ ${app.name}... 25%`);
            }, 500);
            
            setTimeout(() => {
                showNotification(`–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ${app.name}... 50%`);
            }, 1000);
            
            setTimeout(() => {
                showNotification(`–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ${app.name}... 75%`);
            }, 1500);
            
            setTimeout(() => {
                installedApps.add(appId);
                showNotification(`‚úÖ ${app.name} —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!`);
                loadStoreApps(); // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                
                // –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
                addToDesktop(app);
            }, 2000);
        }

        function addToDesktop(app) {
            const desktopIcons = document.querySelector('.desktop-icons');
            const icon = document.createElement('div');
            icon.className = 'desktop-icon';
            icon.dataset.app = app.id;
            icon.innerHTML = `
                <div class="icon-image">${app.icon}</div>
                <div class="icon-label">${app.name}</div>
            `;
            desktopIcons.appendChild(icon);
        }

        function filterApps(category) {
            document.querySelectorAll('.store-category').forEach(cat => {
                cat.classList.remove('active');
            });
            
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            const storeApps = document.getElementById('storeApps');
            storeApps.innerHTML = '';
            
            const filteredApps = category === 'all' ? appDatabase : appDatabase.filter(app => app.category === category);
            
            filteredApps.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'app-item';
                appItem.innerHTML = `
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${app.rating}/5.0 | ${app.size}</div>
                    </div>
                    <div class="app-actions">
                        <div class="app-button ${installedApps.has(app.id) ? 'installed' : ''}" 
                             onclick="installApp('${app.id}')">
                            ${installedApps.has(app.id) ? '‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : 'üì• –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'}
                        </div>
                        <div class="app-button" onclick="openApp('${app.id}')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                    </div>
                `;
                storeApps.appendChild(appItem);
            });
        }

        function searchApps(query) {
            if (!query.trim()) {
                loadStoreApps();
                return;
            }
            
            const storeApps = document.getElementById('storeApps');
            storeApps.innerHTML = '';
            
            const filteredApps = appDatabase.filter(app => 
                app.name.toLowerCase().includes(query.toLowerCase()) ||
                app.developer.toLowerCase().includes(query.toLowerCase()) ||
                app.description.toLowerCase().includes(query.toLowerCase())
            );
            
            if (filteredApps.length === 0) {
                storeApps.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #666;">
                        <div style="font-size: 48px; margin-bottom: 20px;">üîç</div>
                        <h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</p>
                    </div>
                `;
                return;
            }
            
            filteredApps.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'app-item';
                appItem.innerHTML = `
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${app.rating}/5.0 | ${app.size}</div>
                    </div>
                    <div class="app-actions">
                        <div class="app-button ${installedApps.has(app.id) ? 'installed' : ''}" 
                             onclick="installApp('${app.id}')">
                            ${installedApps.has(app.id) ? '‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : 'üì• –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'}
                        </div>
                        <div class="app-button" onclick="openApp('${app.id}')">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                    </div>
                `;
                storeApps.appendChild(appItem);
            });
        }

        function refreshStore() {
            loadStoreApps();
            showNotification('üîÑ –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω');
        }

        // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
        function calcAction(action) {
            const display = document.getElementById('calcDisplay');
            
            if (action === 'clear') {
                calcDisplay = '0';
                calcExpression = '';
            } else if (action === 'ce') {
                calcDisplay = '0';
            } else if (action === 'backspace') {
                if (calcDisplay.length > 1) {
                    calcDisplay = calcDisplay.slice(0, -1);
                    calcExpression = calcExpression.slice(0, -1);
                } else {
                    calcDisplay = '0';
                    calcExpression = '';
                }
            } else if (action === '=') {
                try {
                    const result = eval(calcExpression);
                    calcDisplay = result.toString();
                    calcExpression = result.toString();
                } catch (error) {
                    calcDisplay = '–û—à–∏–±–∫–∞';
                    calcExpression = '';
                }
            } else {
                if (calcDisplay === '0' && !isNaN(action)) {
                    calcDisplay = action;
                    calcExpression = action;
                } else {
                    calcDisplay += action;
                    calcExpression += action;
                }
            }
            
            display.textContent = calcDisplay;
        }

        // –ú–µ–Ω—é –ü—É—Å–∫
        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            startMenu.classList.toggle('show');
        }

        // –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function showDesktop() {
            document.querySelectorAll('.window').forEach(w => {
                w.style.display = 'none';
            });
        }

        function showVolumeControl() {
            showNotification('üîä –ì—Ä–æ–º–∫–æ—Å—Ç—å: 75%');
        }

        function showNetworkStatus() {
            showNotification('üì∂ –°–µ—Ç—å: –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É (56K –º–æ–¥–µ–º)');
        }

        function showAntivirus() {
            showDialog('Norton AntiVirus', 'üõ°Ô∏è', 
                '–°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞\n\n–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –°–µ–≥–æ–¥–Ω—è, 14:32\n–°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞\n–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —É–≥—Ä–æ–∑: 0\n–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ê–∫—Ç—É–∞–ª—å–Ω–∞');
        }

        function showRunDialog() {
            showDialog('–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã', '‚ñ∂Ô∏è', 
                '–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ø–∞–ø–∫–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å–∞ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:<br><br><input type="text" id="runInput" class="selectable" style="width: 200px; padding: 2px; border: 1px inset #c0c0c0;" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: calc">',
                [
                    { text: 'OK', action: 'executeRun()', default: true },
                    { text: '–û—Ç–º–µ–Ω–∞', action: 'closeDialog()' },
                    { text: '–û–±–∑–æ—Ä...', action: 'browseFiles()' }
                ]);
        }

        function executeRun() {
            const input = document.getElementById('runInput');
            if (!input) return;
            
            const cmd = input.value.toLowerCase().trim();
            const commands = {
                'calc': 'calculator',
                'notepad': 'notepad',
                'mspaint': 'paint',
                'paint': 'paint',
                'iexplore': 'browser',
                'explorer': 'filemanager',
                'winmine': 'minesweeper',
                'sol': 'solitaire',
                'cmd': 'terminal',
                'command': 'terminal'
            };
            
            if (commands[cmd]) {
                openApp(commands[cmd]);
                showNotification(`–ó–∞–ø—É—Å–∫ ${commands[cmd]}...`);
            } else {
                showNotification(`–ü—Ä–æ–≥—Ä–∞–º–º–∞ "${cmd}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`);
            }
            
            closeDialog();
        }

        function browseFiles() {
            showNotification('–û—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞...');
        }

        function showShutdown() {
            showDialog('–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã Windows', '‚ö°', 
                '–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?<br><br>' +
                '<label><input type="radio" name="shutdown" value="shutdown" checked> –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</label><br>' +
                '<label><input type="radio" name="shutdown" value="restart"> –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä</label><br>' +
                '<label><input type="radio" name="shutdown" value="logoff"> –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>',
                [
                    { text: 'OK', action: 'doShutdown()', default: true },
                    { text: '–û—Ç–º–µ–Ω–∞', action: 'closeDialog()' },
                    { text: '–°–ø—Ä–∞–≤–∫–∞', action: 'showShutdownHelp()' }
                ]);
        }

        function doShutdown() {
            const selected = document.querySelector('input[name="shutdown"]:checked');
            if (!selected) return;
            
            const action = selected.value;
            
            switch(action) {
                case 'shutdown':
                    document.body.style.background = '#000';
                    document.body.innerHTML = `
                        <div style="color: #00ff00; text-align: center; padding-top: 200px; font-size: 24px; font-family: monospace;">
                            <div>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã Windows...</div>
                            <div style="font-size: 16px; margin-top: 20px;">–¢–µ–ø–µ—Ä—å –∫–æ–º–ø—å—é—Ç–µ—Ä –º–æ–∂–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å</div>
                            <div style="font-size: 12px; margin-top: 40px; color: #666;">–ù–∞–∂–º–∏—Ç–µ F5 –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏</div>
                        </div>
                    `;
                    break;
                case 'restart':
                    showNotification('–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã...');
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                    break;
                case 'logoff':
                    isLoggedIn = false;
                    document.getElementById('desktop').classList.remove('show');
                    document.getElementById('loginScreen').classList.remove('hidden');
                    showNotification('–°–µ–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω');
                    break;
            }
            
            closeDialog();
        }

        function showShutdownHelp() {
            showDialog('–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã', '‚ùì',
                '–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π:\n\n' +
                '‚Ä¢ –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ -
                                <div class="toolbar-button" title="–°–æ–∑–¥–∞—Ç—å">üìÑ</div>
                                <div class="toolbar-button" title="–û—Ç–∫—Ä—ã—Ç—å">üìÇ</div>
                                <div class="toolbar-button" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">üíæ</div>
                                <div class="toolbar-button" title="–ü–æ—Å—Ç—Ä–æ–∏—Ç—å">üî®</div>
                                <div class="toolbar-button" title="–û—Ç–ª–∞–¥–∫–∞">üêõ</div>
                                <div class="toolbar-button" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å">‚ñ∂Ô∏è</div>
                            </div>
                            
                            <div style="flex: 1; background: white; font-family: 'Courier New', monospace; font-size: 12px; padding: 10px; overflow-y: auto;">
                                <div style="color: #008000;">// Visual C++ 6.0 Project</div>
                                <div style="color: #000080;">#include &lt;windows.h&gt;</div>
                                <div style="color: #000080;">#include &lt;iostream&gt;</div>
                                <div></div>
                                <div><span style="color: #0000ff;">int</span> <span style="color: #000080;">main</span>() {</div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</span></div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000080;">MessageBox</span>(<span style="color: #0000ff;">NULL</span>, <span style="color: #800000;">"Hello World!"</span>, <span style="color: #800000;">"My App"</span>, <span style="color: #0000ff;">MB_OK</span>);</div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">return</span> <span style="color: #ff0000;">0</span>;</div>
                                <div>}</div>
                            </div>
                            
                            <div style="height: 100px; background: #f8f8f8; border-top: 1px solid #999; padding: 5px; font-family: 'Courier New', monospace; font-size: 10px; overflow-y: auto;">
                                <div style="font-weight: bold; margin-bottom: 5px;">–í—ã–≤–æ–¥ —Å–±–æ—Ä–∫–∏:</div>
                                <div>–ö–æ–º–ø–∏–ª—è—Ü–∏—è...</div>
                                <div>main.cpp</div>
                                <div>Linking...</div>
                                <div>MyProject.exe - 0 error(s), 0 warning(s)</div>
                                <div style="color: green;">–°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ</div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return createDefaultWindow(app);
            }
        }

        function createDefaultWindow(app) {
            return `
                <div style="text-align: center; padding: 50px;">
                    <div style="font-size: 64px; margin-bottom: 20px;">${app.icon}</div>
                    <h2>${app.name}</h2>
                    <p>${app.description}</p>
                    <div style="margin: 20px 0;">
                        <strong>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</strong> ${app.developer}<br>
                        <strong>–†–∞–∑–º–µ—Ä:</strong> ${app.size}<br>
                        <strong>–†–µ–π—Ç–∏–Ω–≥:</strong> ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${app.rating}/5.0
                    </div>
                    <div style="margin: 20px 0;">
                        <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong><br>
                        ${app.features.map(feature => `‚Ä¢ ${feature}`).join('<br>')}
                    </div>
                    <div class="app-button" onclick="launchApp('${app.id}')">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
                </div>
            `;
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–∫–æ–Ω
        function createSystemWindows() {
            createNotepadWindow();
            createPaintWindow();
            createFileManagerWindow();
            createMinesweeperWindow();
            createSolitaireWindow();
            createMediaPlayerWindow();
            createTerminalWindow();
        }

        function createNotepadWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'notepadWindow';
            windowElement.style.width = '600px';
            windowElement.style.height = '400px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üìù</div>
                    <div class="window-title">–ë–ª–æ–∫–Ω–æ—Ç - –ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–ü–æ–∏—Å–∫</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content" style="padding: 0;">
                    <textarea style="width: 100%; height: 100%; border: none; padding: 10px; font-family: 'Courier New', monospace; font-size: 12px; resize: none; outline: none;" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">–ì–æ—Ç–æ–≤</div>
                    <div class="status-panel">–°—Ç—Ä–æ–∫–∞ 1, –°—Ç–æ–ª–±–µ—Ü 1</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
        }

        function createPaintWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'paintWindow';
            windowElement.style.width = '700px';
            windowElement.style.height = '500px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üé®</div>
                    <div class="window-title">Paint</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–†–∏—Å—É–Ω–æ–∫</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content" style="padding: 0; display: flex; flex-direction: column;">
                    <div style="height: 60px; background: #c0c0c0; border-bottom: 1px solid #808080; display: flex; align-items: center; padding: 4px; gap: 4px;">
                        <div class="toolbar-button" onclick="selectPaintTool('pencil')" title="–ö–∞—Ä–∞–Ω–¥–∞—à">‚úèÔ∏è</div>
                        <div class="toolbar-button" onclick="selectPaintTool('brush')" title="–ö–∏—Å—Ç—å">üñåÔ∏è</div>
                        <div class="toolbar-button" onclick="selectPaintTool('eraser')" title="–õ–∞—Å—Ç–∏–∫">üßΩ</div>
                        <div class="toolbar-button" onclick="selectPaintTool('line')" title="–õ–∏–Ω–∏—è">üìè</div>
                        <div class="toolbar-button" onclick="selectPaintTool('rectangle')" title="–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫">‚¨ú</div>
                        <div class="toolbar-button" onclick="selectPaintTool('circle')" title="–ö—Ä—É–≥">‚≠ï</div>
                        <div class="toolbar-button" onclick="clearPaint()" title="–û—á–∏—Å—Ç–∏—Ç—å">üóëÔ∏è</div>
                        
                        <div style="margin-left: 10px; display: flex; gap: 2px;">
                            ${['#000000', '#ffffff', '#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#800000', '#008000', '#000080', '#808000', '#800080', '#008080', '#c0c0c0', '#808080'].map(color => 
                                `<div style="width: 20px; height: 20px; background: ${color}; border: 1px solid #808080; cursor: pointer;" onclick="selectPaintColor('${color}')"></div>`
                            ).join('')}
                        </div>
                    </div>
                    <div style="flex: 1; padding: 8px; background: #c0c0c0; display: flex; justify-content: center; align-items: center;">
                        <canvas id="paintCanvas" width="600" height="350" style="background: white; border: 1px inset #c0c0c0; cursor: crosshair;"></canvas>
                    </div>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">–ì–æ—Ç–æ–≤</div>
                    <div class="status-panel" id="paintToolStatus">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: –ö–∞—Ä–∞–Ω–¥–∞—à</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Paint
            setTimeout(() => {
                setupPaintCanvas();
            }, 100);
        }

        function createFileManagerWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'filemanagerWindow';
            windowElement.style.width = '600px';
            windowElement.style.height = '450px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üìÅ</div>
                    <div class="window-title">–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–ü—Ä–∞–≤–∫–∞</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 20px; padding: 20px;">
                        <div style="text-align: center; cursor: pointer;" onclick="openDrive('C')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üíΩ</div>
                            <div style="font-size: 11px;">–î–∏—Å–∫ (C:)</div>
                            <div style="font-size: 9px; color: #666;">15.2 GB —Å–≤–æ–±–æ–¥–Ω–æ</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openDrive('D')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üíø</div>
                            <div style="font-size: 11px;">–î–∏—Å–∫ (D:)</div>
                            <div style="font-size: 9px; color: #666;">CD-ROM</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openDrive('A')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üíæ</div>
                            <div style="font-size: 11px;">–î–∏—Å–∫ (A:)</div>
                            <div style="font-size: 9px; color: #666;">1.44 MB</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openFolder('documents')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üìÅ</div>
                            <div style="font-size: 11px;">–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openFolder('network')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üåê</div>
                            <div style="font-size: 11px;">–°–µ—Ç–µ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openFolder('printers')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üñ®Ô∏è</div>
                            <div style="font-size: 11px;">–ü—Ä–∏–Ω—Ç–µ—Ä—ã</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openFolder('control')">
                            <div style="font-size: 48px; margin-bottom: 8px;">‚öôÔ∏è</div>
                            <div style="font-size: 11px;">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                        </div>
                        <div style="text-align: center; cursor: pointer;" onclick="openFolder('recycle')">
                            <div style="font-size: 48px; margin-bottom: 8px;">üóëÔ∏è</div>
                            <div style="font-size: 11px;">–ö–æ—Ä–∑–∏–Ω–∞</div>
                        </div>
                    </div>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel">8 –æ–±—ä–µ–∫—Ç–æ–≤</div>
                    <div class="status-panel">–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
        }

        function createMinesweeperWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'minesweeperWindow';
            windowElement.style.width = '300px';
            windowElement.style.height = '350px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üí£</div>
                    <div class="window-title">–°–∞–ø–µ—Ä</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–ò–≥—Ä–∞</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="border: 1px inset #c0c0c0; padding: 2px 6px; background: #000; color: #ff0000; font-family: monospace; font-weight: bold;">010</div>
                            <div style="width: 32px; height: 32px; background: #ffff00; border: 1px outset #c0c0c0; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 16px;" onclick="resetMinesweeper()">üôÇ</div>
                            <div style="border: 1px inset #c0c0c0; padding: 2px 6px; background: #000; color: #ff0000; font-family: monospace; font-weight: bold;" id="minesweeperTimer">000</div>
                        </div>
                        <div id="minesweeperGrid" style="display: grid; grid-template-columns: repeat(9, 1fr); gap: 1px; background: #808080; padding: 4px; justify-content: center;">
                            ${Array(81).fill().map((_, i) => `<div class="mine-cell" style="width: 20px; height: 20px; background: #c0c0c0; border: 1px outset #c0c0c0; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: bold;" onclick="revealMineCell(${i})" oncontextmenu="toggleMineFlag(${i}); return false;"></div>`).join('')}
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
        }

        function createSolitaireWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'solitaireWindow';
            windowElement.style.width = '600px';
            windowElement.style.height = '400px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üÉè</div>
                    <div class="window-title">–ü–∞—Å—å—è–Ω—Å</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–ò–≥—Ä–∞</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content" style="background: #008000; padding: 0;">
                    <div style="padding: 10px;">
                        <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 20px;">
                            <div class="app-button" onclick="newSolitaireGame()">üÉè –ù–æ–≤–∞—è –∏–≥—Ä–∞</div>
                            <div class="app-button" onclick="undoSolitaireMove()">‚Ü∂ –û—Ç–º–µ–Ω–∏—Ç—å</div>
                            <div class="app-button" onclick="solitaireHint()">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">
                            <div style="width: 60px; height: 80px; background: #000080; border: 1px solid white; border-radius: 4px; color: white; display: flex; align-items: center; justify-content: center; cursor: pointer;" onclick="dealCards()">üÇ†</div>
                            <div style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center;">üÉÅ</div>
                            <div style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center;">üÇ±</div>
                            <div style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center;">üÉë</div>
                            <div style="width: 60px; height: 80px; background: white; border: 1px solid #000; border-radius: 4px; display: flex; align-items: center; justify-content: center;">üÉã</div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-around;">
                            ${Array(7).fill().map((_, i) => `<div style="width: 60px; height: 80px; background: #000080; border: 1px solid white; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: white;" onclick="selectSolitaireColumn(${i})">${i === 0 ? 'üÇ°' : ''}</div>`).join('')}
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px; color: white;">
                            –û—á–∫–∏: <span id="solitaireScore">0</span> | –í—Ä–µ–º—è: <span id="solitaireTime">00:00</span>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
        }

        function createMediaPlayerWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'mediaplayerWindow';
            windowElement.style.width = '400px';
            windowElement.style.height = '300px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üéµ</div>
                    <div class="window-title">Windows Media Player</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-menubar">
                    <div class="menu-item">–§–∞–π–ª</div>
                    <div class="menu-item">–í–∏–¥</div>
                    <div class="menu-item">–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</div>
                    <div class="menu-item">–°–ø—Ä–∞–≤–∫–∞</div>
                </div>
                <div class="window-content">
                    <div class="media-display" style="height: 120px; background: #000; color: #00ff00; display: flex; align-items: center; justify-content: center; font-size: 18px; margin-bottom: 15px;">
                        ‚ô™ Windows Media Player ‚ô™
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 5px; margin-bottom: 15px;">
                        <span style="font-size: 10px;">00:00</span>
                        <div style="flex: 1; height: 12px; background: #808080; border: 1px inset #c0c0c0; position: relative;">
                            <div style="width: 30%; height: 100%; background: linear-gradient(to right, #0080ff, #00ff80);" id="mediaProgress"></div>
                        </div>
                        <span style="font-size: 10px;">03:45</span>
                    </div>
                    
                    <div class="media-controls">
                        <div class="media-button" onclick="mediaPlayerAction('prev')">‚èÆÔ∏è</div>
                        <div class="media-button" onclick="mediaPlayerAction('play')">‚ñ∂Ô∏è</div>
                        <div class="media-button" onclick="mediaPlayerAction('pause')">‚è∏Ô∏è</div>
                        <div class="media-button" onclick="mediaPlayerAction('stop')">‚èπÔ∏è</div>
                        <div class="media-button" onclick="mediaPlayerAction('next')">‚è≠Ô∏è</div>
                        <div class="media-button" onclick="mediaPlayerAction('open')">üìÇ</div>
                        <div class="media-button" onclick="mediaPlayerAction('volume')">üîä</div>
                    </div>
                </div>
                <div class="window-statusbar">
                    <div class="status-panel" id="mediaPlayerStatus">–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</div>
                    <div class="status-panel">00:00 / 03:45</div>
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
        }

        function createTerminalWindow() {
            const windowElement = document.createElement('div');
            windowElement.className = 'window';
            windowElement.id = 'terminalWindow';
            windowElement.style.width = '600px';
            windowElement.style.height = '400px';
            windowElement.innerHTML = `
                <div class="window-titlebar">
                    <div class="window-icon">üíª</div>
                    <div class="window-title">–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ MS-DOS</div>
                    <div class="window-controls">
                        <div class="window-control" data-action="minimize">_</div>
                        <div class="window-control" data-action="maximize">‚ñ°</div>
                        <div class="window-control" data-action="close">√ó</div>
                    </div>
                </div>
                <div class="window-content" style="padding: 0; background: #000; color: #c0c0c0; font-family: 'Courier New', monospace; font-size: 12px; position: relative;">
                    <div style="padding: 10px; height: 100%; overflow-y: auto;" id="terminalOutput">
                        <div>Microsoft Windows 98 [–í–µ—Ä—Å–∏—è 4.10.2222]</div>
                        <div>(C) –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –ú–∞–π–∫—Ä–æ—Å–æ—Ñ—Ç, 1981-1998.</div>
                        <div></div>
                        <div>C:\\WINDOWS></div>
                    </div>
                    <input type="text" id="terminalInput" style="position: absolute; bottom: 0; left: 0; width: 100%; background: transparent; border: none; color: #c0c0c0; font-family: 'Courier New', monospace; font-size: 12px; padding: 0 10px; outline: none;">
                </div>
            `;
            document.getElementById('desktop').appendChild(windowElement);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
            setTimeout(() => {
                setupTerminal();
            }, 100);
        }

        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫–Ω–∞
        function activateWindow(windowElement) {
            document.querySelectorAll('.window').forEach(w => {
                w.classList.remove('active');
                w.classList.add('inactive');
            });
            
            windowElement.classList.add('active');
            windowElement.classList.remove('inactive');
            windowElement.style.zIndex = ++zIndexCounter;
            activeWindow = windowElement;
            
            updateTaskbar();
        }

        // –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á
        function updateTaskbar() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';
            
            openWindows.forEach(appName => {
                const taskItem = document.createElement('div');
                taskItem.className = 'task-item';
                taskItem.innerHTML = `<span style="margin-right: 4px;">${getAppIcon(appName)}</span>${getAppTitle(appName)}`;
                taskItem.onclick = () => {
                    const windowElement = document.getElementById(appName + 'Window');
                    if (windowElement.style.display === 'none') {
                        windowElement.style.display = 'block';
                    }
                    activateWindow(windowElement);
                };
                
                const windowElement = document.getElementById(appName + 'Window');
                if (windowElement && windowElement.classList.contains('active')) {
                    taskItem.classList.add('active');
                }
                
                taskList.appendChild(taskItem);
            });
        }

        function getAppIcon(appName) {
            const icons = {
                'browser': 'üåê',
                'filemanager': 'üìÅ',
                'calculator': 'üî¢',
                'notepad': 'üìù',
                'paint': 'üé®',
                'appstore': 'üè™',
                'minesweeper': 'üí£',
                'solitaire': 'üÉè',
                'mediaplayer': 'üéµ',
                'terminal': 'üíª'
            };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const app = appDatabase.find(a => a.id === appName);
            if (app) return app.icon;
            
            return icons[appName] || 'üìÑ';
        }

        function getAppTitle(appName) {
            const titles = {
                'browser': 'Internet Explorer',
                'filemanager': '–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä',
                'calculator': '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä',
                'notepad': '–ë–ª–æ–∫–Ω–æ—Ç',
                'paint': 'Paint',
                'appstore': '–ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π',
                'minesweeper': '–°–∞–ø–µ—Ä',
                'solitaire': '–ü–∞—Å—å—è–Ω—Å',
                'mediaplayer': '–ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å',
                'terminal': '–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞'
            };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const app = appDatabase.find(a => a.id === appName);
            if (app) return app.name;
            
            return titles[appName] || appName;
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('window-control')) {
                const action = e.target.dataset.action;
                const windowElement = e.target.closest('.window');
                const appName = windowElement.id.replace('Window', '');
                
                switch(action) {
                    case 'close':
                        closeWindow(appName);
                        break;
                    case 'minimize':
                        minimizeWindow(windowElement);
                        break;
                    case 'maximize':
                        maximizeWindow(windowElement);
                        break;
                }
            }
        });

        function closeWindow(appName) {
            const windowElement = document.getElementById(appName + 'Window');
            windowElement.style.display = 'none';
            openWindows.delete(appName);
            updateTaskbar();
        }

        function minimizeWindow(windowElement) {
            windowElement.style.display = 'none';
        }

        function maximizeWindow(windowElement) {
            if (windowElement.classList.contains('maximized')) {
                windowElement.classList.remove('maximized');
                windowElement.style.width = '';
                windowElement.style.height = '';
                windowElement.style.top = '';
                windowElement.style.left = '';
            } else {
                windowElement.classList.add('maximized');
                windowElement.style.width = '100vw';
                windowElement.style.height = 'calc(100vh - 30px)';
                windowElement.style.top = '0';
                windowElement.style.left = '0';
            }
        }

        // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –æ–∫–æ–Ω
        let isDragging = false;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        document.addEventListener('mousedown', function(e) {
            const titlebar = e.target.closest('.window-titlebar');
            if (titlebar && !e.target.classList.contains('window-control')) {
                isDragging = true;
                const windowElement = titlebar.closest('.window');
                activateWindow(windowElement);
                
                const rect = windowElement.getBoundingClientRect();
                dragOffsetX = e.clientX - rect.left;
                dragOffsetY = e.clientY - rect.top;
                
                document.addEventListener('mousemove', dragWindow);
                document.addEventListener('mouseup', stopDrag);
            }
        });

        function dragWindow(e) {
            if (!isDragging || !activeWindow) return;
            
            const x = e.clientX - dragOffsetX;
            const y = e.clientY - dragOffsetY;
            
            activeWindow.style.left = Math.max(0, Math.min(x, window.innerWidth - 200)) + 'px';
            activeWindow.style.top = Math.max(0, Math.min(y, window.innerHeight - 100)) + 'px';
        }

        function stopDrag() {
            isDragging = false;
            document.removeEventListener('mousemove', dragWindow);
            document.removeEventListener('mouseup', stopDrag);
        }

        // –ë—Ä–∞—É–∑–µ—Ä - –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù
        function navigateToUrl() {
            const url = document.getElementById('addressInput').value.trim();
            if (!url) return;
            
            let finalUrl = url;
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                finalUrl = 'https://' + url;
                document.getElementById('addressInput').value = finalUrl;
            }
            
            // –°–æ–∑–¥–∞–µ–º iframe –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω –±—Ä–∞—É–∑–µ—Ä–∞
            const browserFrame = document.getElementById('browserFrame');
            browserFrame.innerHTML = `<iframe src="${finalUrl}" class="browser-iframe" title="Browser Content" allow="fullscreen"></iframe>`;
            
            document.getElementById('browserStatus').textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
            
            setTimeout(() => {
                document.getElementById('browserStatus').textContent = '–ì–æ—Ç–æ–≤';
            }, 2000);
        }

        function navigateTo(url) {
            document.getElementById('addressInput').value = url;
            navigateToUrl();
        }

        function browserAction(action) {
            switch(action) {
                case 'back':
                    showNotification('–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞–∑–∞–¥');
                    break;
                case 'forward':
                    showNotification('–ü–µ—Ä–µ—Ö–æ–¥ –≤–ø–µ—Ä–µ–¥');
                    break;
                case 'refresh':
                    navigateToUrl();
                    showNotification('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
                    break;
                case 'home':
                    navigateTo('https://www.google.com');
                    break;
                case 'search':
                    navigateTo('https://www.google.com');
                    break;
                case 'favorites':
                    showNotification('–û—Ç–∫—Ä—ã—Ç–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ');
                    break;
                case 'stop':
                    showNotification('–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞');
                    break;
            }
        }

        // –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
        function loadStoreApps() {
            const storeApps = document.getElementById('storeApps');
            storeApps.innerHTML = '';
            
            appDatabase.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'app-item';
                appItem.innerHTML = `
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ ${app.rating} | ${app.size}</div>
                    </div>
                    <div class="app-actions">
                        <div class="app-button ${installedApps.has(app.id) ? 'installed' : ''}" 
                             onclick="installApp('${app.id}')">
                            ${installedApps.has(app.id) ? '–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'}
                        </div>
                        <div class="app-button" onclick="openApp('${app.id}')">–ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                    </div>
                `;
                storeApps.appendChild(appItem);
            });
        }

        function installApp(appId) {
            const app = appDatabase.find(a => a.id === appId);
            if (!app) return;
            
            if (installedApps.has(appId)) {
                showNotification(`${app.name} —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ`);
                return;
            }
            
            // –≠–º—É–ª—è—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
            showNotification(`–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ${app.name}...`);
            
            setTimeout(() => {
                installedApps.add(appId);
                showNotification(`${app.name} —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!`);
                loadStoreApps(); // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                
                // –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
                addToDesktop(app);
            }, 2000);
        }

        function addToDesktop(app) {
            const desktopIcons = document.querySelector('.desktop-icons');
            const icon = document.createElement('div');
            icon.className = 'desktop-icon';
            icon.dataset.app = app.id;
            icon.innerHTML = `
                <div class="icon-image">${app.icon}</div>
                <div class="icon-label">${app.name}</div>
            `;
            desktopIcons.appendChild(icon);
        }

        function filterApps(category) {
            document.querySelectorAll('.store-category').forEach(cat => {
                cat.classList.remove('active');
            });
            
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            const storeApps = document.getElementById('storeApps');
            storeApps.innerHTML = '';
            
            const filteredApps = category === 'all' ? appDatabase : appDatabase.filter(app => app.category === category);
            
            filteredApps.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'app-item';
                appItem.innerHTML = `
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ ${app.rating} | ${app.size}</div>
                    </div>
                    <div class="app-actions">
                        <div class="app-button ${installedApps.has(app.id) ? 'installed' : ''}" 
                             onclick="installApp('${app.id}')">
                            ${installedApps.has(app.id) ? '–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'}
                        </div>
                        <div class="app-button" onclick="openApp('${app.id}')">–ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                    </div>
                `;
                storeApps.appendChild(appItem);
            });
        }

        function searchApps(query) {
            const storeApps = document.getElementById('storeApps');
            storeApps.innerHTML = '';
            
            const filteredApps = appDatabase.filter(app => 
                app.name.toLowerCase().includes(query.toLowerCase()) ||
                app.developer.toLowerCase().includes(query.toLowerCase()) ||
                app.description.toLowerCase().includes(query.toLowerCase())
            );
            
            filteredApps.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'app-item';
                appItem.innerHTML = `
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-description">${app.description}</div>
                        <div class="app-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ ${app.rating} | ${app.size}</div>
                    </div>
                    <div class="app-actions">
                        <div class="app-button ${installedApps.has(app.id) ? 'installed' : ''}" 
                             onclick="installApp('${app.id}')">
                            ${installedApps.has(app.id) ? '–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ' : '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å'}
                        </div>
                        <div class="app-button" onclick="openApp('${app.id}')">–ó–∞–ø—É—Å—Ç–∏—Ç—å</div>
                    </div>
                `;
                storeApps.appendChild(appItem);
            });
        }

        function refreshStore() {
            loadStoreApps();
            showNotification('–ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω');
        }

        // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
        function calcAction(action) {
            const display = document.getElementById('calcDisplay');
            
            if (action === 'clear') {
                calcDisplay = '0';
                calcExpression = '';
            } else if (action === 'ce') {
                calcDisplay = '0';
            } else if (action === 'backspace') {
                if (calcDisplay.length > 1) {
                    calcDisplay = calcDisplay.slice(0, -1);
                    calcExpression = calcExpression.slice(0, -1);
                } else {
                    calcDisplay = '0';
                    calcExpression = '';
                }
            } else if (action === '=') {
                try {
                    const result = eval(calcExpression);
                    calcDisplay = result.toString();
                    calcExpression = result.toString();
                } catch (error) {
                    calcDisplay = '–û—à–∏–±–∫–∞';
                    calcExpression = '';
                }
            } else {
                if (calcDisplay === '0' && !isNaN(action)) {
                    calcDisplay = action;
                    calcExpression = action;
                } else {
                    calcDisplay += action;
                    calcExpression += action;
                }
            }
            
            display.textContent = calcDisplay;
        }

        // Paint —Ñ—É–Ω–∫—Ü–∏–∏
        let paintColor = '#000000';
        let paintTool = 'pencil';
        let isPainting = false;

        function setupPaintCanvas() {
            const canvas = document.getElementById('paintCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            canvas.addEventListener('mousedown', startPaint);
            canvas.addEventListener('mousemove', paint);
            canvas.addEventListener('mouseup', stopPaint);
            canvas.addEventListener('mouseout', stopPaint);
            
            function startPaint(e) {
                isPainting = true;
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                ctx.beginPath();
                ctx.moveTo(x, y);
            }
            
            function paint(e) {
                if (!isPainting) return;
                
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                ctx.lineWidth = paintTool === 'brush' ? 8 : 2;
                ctx.lineCap = 'round';
                ctx.strokeStyle = paintColor;
                ctx.lineTo(x, y);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(x, y);
            }
            
            function stopPaint() {
                isPainting = false;
                ctx.beginPath();
            }
        }

        function selectPaintTool(tool) {
            paintTool = tool;
            document.getElementById('paintToolStatus').textContent = `–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: ${getToolName(tool)}`;
        }

        function selectPaintColor(color) {
            paintColor = color;
        }

        function clearPaint() {
            const canvas = document.getElementById('paintCanvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
        }

        function getToolName(tool) {
            const names = {
                'pencil': '–ö–∞—Ä–∞–Ω–¥–∞—à',
                'brush': '–ö–∏—Å—Ç—å',
                'eraser': '–õ–∞—Å—Ç–∏–∫',
                'line': '–õ–∏–Ω–∏—è',
                'rectangle': '–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫',
                'circle': '–ö—Ä—É–≥'
            };
            return names[tool] || tool;
        }

        // –¢–µ—Ä–º–∏–Ω–∞–ª
        function setupTerminal() {
            const terminalInput = document.getElementById('terminalInput');
            const terminalOutput = document.getElementById('terminalOutput');
            
            if (terminalInput) {
                terminalInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const command = this.value.trim();
                        const outputLine = document.createElement('div');
                        outputLine.innerHTML = `C:\\WINDOWS>${command}`;
                        terminalOutput.appendChild(outputLine);
                        
                        executeCommand(command);
                        this.value = '';
                        
                        terminalOutput.scrollTop = terminalOutput.scrollHeight;
                    }
                });
            }
        }

        function executeCommand(command) {
            const terminalOutput = document.getElementById('terminalOutput');
            const cmd = command.toLowerCase();
            let response = '';
            
            switch(cmd) {
                case 'dir':
                    response = ` –¢–æ–º –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ C –∏–º–µ–µ—Ç –º–µ—Ç–∫—É SYSTEM
 –°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–æ–º–∞: 1A2B-3C4D

 –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ C:\\WINDOWS

16.07.1998  14:32    <DIR>          .
16.07.1998  14:32    <DIR>          ..
15.06.1998  12:00    <DIR>          SYSTEM
15.06.1998  12:00    <DIR>          SYSTEM32
15.06.1998  12:00    <DIR>          FONTS
15.06.1998  12:00    <DIR>          TEMP
15.06.1998  12:00       286,720    NOTEPAD.EXE
15.06.1998  12:00        32,768    CALC.EXE
15.06.1998  12:00     1,421,312    EXPLORER.EXE
               3 —Ñ–∞–π–ª–æ–≤      1,740,800 –±–∞–π—Ç
               6 –ø–∞–ø–æ–∫    245,760,000 –±–∞–π—Ç —Å–≤–æ–±–æ–¥–Ω–æ`;
                    break;
                case 'cls':
                    terminalOutput.innerHTML = '';
                    const promptLine = document.createElement('div');
                    promptLine.innerHTML = 'C:\\WINDOWS>';
                    terminalOutput.appendChild(promptLine);
                    return;
                case 'ver':
                    response = 'Microsoft Windows 98 [–í–µ—Ä—Å–∏—è 4.10.2222]';
                    break;
                case 'time':
                    response = `–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: ${new Date().toLocaleTimeString()}`;
                    break;
                case 'date':
                    response = `–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞: ${new Date().toLocaleDateString()}`;
                    break;
                case 'help':
                    response = `–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
DIR     - –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
CLS     - –û—á–∏—Å—Ç–∫–∞ —ç–∫—Ä–∞–Ω–∞
VER     - –í–µ—Ä—Å–∏—è Windows
TIME    - –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
DATE    - –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞
HELP    - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
EXIT    - –í—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
NOTEPAD - –ó–∞–ø—É—Å–∫ –ë–ª–æ–∫–Ω–æ—Ç–∞
CALC    - –ó–∞–ø—É—Å–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
PAINT   - –ó–∞–ø—É—Å–∫ Paint`;
                    break;
                case 'exit':
                    closeWindow('terminal');
                    return;
                case 'notepad':
                    openApp('notepad');
                    response = '–ó–∞–ø—É—Å–∫ –ë–ª–æ–∫–Ω–æ—Ç–∞...';
                    break;
                case 'calc':
                    openApp('calculator');
                    response = '–ó–∞–ø—É—Å–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞...';
                    break;
                case 'paint':
                    openApp('paint');
                    response = '–ó–∞–ø—É—Å–∫ Paint...';
                    break;
                default:
                    response = `'${command}' –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–π –∫–æ–º–∞–Ω–¥–æ–π,
–∏—Å–ø–æ–ª–Ω—è–µ–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –∏–ª–∏ –ø–∞–∫–µ—Ç–Ω—ã–º —Ñ–∞–π–ª–æ–º.`;
            }
            
            const responseLine = document.createElement('div');
            responseLine.innerHTML = response.replace(/\n/g, '<br>');
            terminalOutput.appendChild(responseLine);
            
            const promptLine = document.createElement('div');
            promptLine.innerHTML = 'C:\\WINDOWS>';
            terminalOutput.appendChild(promptLine);
        }

        // –ò–≥—Ä–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function startDoomGame(appId) {
            showNotification('üéÆ DOOM –∑–∞–ø—É—â–µ–Ω! Rip and Tear!');
        }

        function startGame(appId) {
            const app = appDatabase.find(a => a.id === appId);
            showNotification(`üéÆ ${app.name} –∑–∞–ø—É—â–µ–Ω!`);
        }

        function newSolitaireGame() {
            showNotification('üÉè –ù–æ–≤–∞—è –∏–≥—Ä–∞ –ø–∞—Å—å—è–Ω—Å–∞ –Ω–∞—á–∞–ª–∞—Å—å!');
        }

        function mediaPlayerAction(action) {
            const status = document.getElementById('mediaPlayerStatus');
            switch(action) {
                case 'play':
                    status.textContent = '–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ';
                    showNotification('‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ');
                    break;
                case 'pause':
                    status.textContent = '–ü–∞—É–∑–∞';
                    showNotification('‚è∏Ô∏è –ü–∞—É–∑–∞');
                    break;
                case 'stop':
                    status.textContent = '–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ';
                    showNotification('‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
                    break;
                case 'open':
                    showNotification('üìÇ –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª');
                    break;
            }
        }

        // –ú–µ–Ω—é –ü—É—Å–∫
        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            startMenu.classList.toggle('show');
        }

        // –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function showDesktop() {
            document.querySelectorAll('.window').forEach(w => {
                w.style.display = 'none';
            });
            showNotification('üñ•Ô∏è –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª –ø–æ–∫–∞–∑–∞–Ω');
        }

        function showVolumeControl() {
            showNotification('üîä –ì—Ä–æ–º–∫–æ—Å—Ç—å: 75%');
        }

        function showNetworkStatus() {
            showNotification('üì∂ –°–µ—Ç—å: –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É');
        }

        function showAntivirus() {
            showNotification('üõ°Ô∏è Norton AntiVirus: –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞');
        }

        function showRunDialog() {
            const command = prompt('–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞:');
            if (command) {
                const commands = {
                    'calc': 'calculator',
                    'notepad': 'notepad',
                    'paint': 'paint',
                    'iexplore': 'browser',
                    'explorer': 'filemanager'
                };
                
                if (commands[command.toLowerCase()]) {
                    openApp(commands[command.toLowerCase()]);
                } else {
                    showNotification(`–ö–æ–º–∞–Ω–¥–∞ "${command}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`);
                }
            }
        }

        function showShutdown() {
            if (confirm('–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É Windows?')) {
                document.body.style.background = '#000';
                document.body.innerHTML = '<div style="color: #00ff00; text-align: center; padding-top: 200px; font-size: 24px; font-family: monospace;">–°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É...<br><br>–¢–µ–ø–µ—Ä—å –∫–æ–º–ø—å—é—Ç–µ—Ä –º–æ–∂–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å</div>';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∫–æ–Ω–æ–∫ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞
        document.addEventListener('click', function(e) {
            const icon = e.target.closest('.desktop-icon');
            if (icon) {
                document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
                icon.classList.add('selected');
            } else if (e.target.closest('.desktop') && !e.target.closest('.window')) {
                document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
            }
        });

        document.addEventListener('dblclick', function(e) {
            const icon = e.target.closest('.desktop-icon');
            if (icon) {
                const appName = icon.dataset.app;
                openApp(appName);
            }
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.start-button') && !e.target.closest('.start-menu')) {
                document.getElementById('startMenu').classList.remove('show');
            }
        });

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(text) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationText').textContent = text;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F11') {
                e.preventDefault();
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen();
                } else {
                    document.exitFullscreen();
                }
            }
        });

        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
        document.addEventListener('mousedown', function(e) {
            const windowElement = e.target.closest('.window');
            if (windowElement) {
                activateWindow(windowElement);
            }
        });

        // –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        setTimeout(() => {
            createSystemWindows();
            console.log('‚úÖ Windows 98 Virtual Machine –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!');
        }, 1000);
    </script>
</body>
</html>

